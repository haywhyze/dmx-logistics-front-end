(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{296:function(e,a){e.exports=[{name:"obalende lagos",lat:"6.4483221",lng:"3.410724",region:"island1"},{name:"bonny camp st lagos",lat:"6.4361901",lng:"3.406208",region:"island1"},{name:"Lagos Island",lat:"6.454879099999999",lng:"3.4245984",region:"island1"},{name:"ikoyi lagos",lat:"6.449999999999999",lng:"3.433333",region:"island1"}]},297:function(e,a){e.exports=[{name:"water carrington",lat:"6.439084299999999",lng:"3.4088352",region:"island2"},{name:"oniru",lat:"6.446787899999999",lng:"3.4340729",region:"island2"},{name:"oriental hotel",lat:"6.4359103",lng:"3.4444084",region:"island2"},{name:"victoria Island",lat:"6.4280556",lng:"3.4219444",region:"island2"},{name:"kofo abayomi",lat:"6.4354083",lng:"3.4165214",region:"island2"},{name:"ahmadu bello",lat:"6.4299825",lng:"3.4088873",region:"island2"},{name:"eko hotel",lat:"6.426495",lng:"3.4307474",region:"island2"},{name:"ligali",lat:"6.4300638",lng:"3.4410854",region:"island2"}]},320:function(e,a,t){e.exports=t(540)},325:function(e,a,t){},539:function(e,a,t){},540:function(e,a,t){"use strict";t.r(a);var n,r,i,l,o,s,c,m=t(0),d=t.n(m),u=t(43),p=t.n(u),h=(t(325),t(326),t(327),t(18)),g=t(19),f=t(21),E=t(20),v=t(22),b=t(572),y=t(308),S=t(89),N=t(277),w=t(278),C=t.n(w),k=t(155),j=t(26),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,orders:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_ORDERS":return Object(j.a)({},e,{isLoading:!1,errMess:null,orders:a.payload});case"ORDERS_LOADING":return Object(j.a)({},e,{isLoading:!0,errMess:null,orders:[]});case"ORDERS_FAILED":return Object(j.a)({},e,{isLoading:!1,errMess:a.payload,orders:[]});case"CREATE_ORDER":case"CANCEL_ORDER":case"CONFIRM_ORDER":return Object(j.a)({},e,{isLoading:!1,errMess:null,orders:[].concat(Object(k.a)(e.orders.filter(function(e){return e.id!==a.payload.id})),[a.payload])});default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_USER":return Object(j.a)({},e,{isLoading:!1,errMess:null,user:a.payload});case"USER_LOADING":return Object(j.a)({},e,{isLoading:!0,errMess:null,user:{}});case"USER_FAILED":return Object(j.a)({},e,{isLoading:!1,errMess:a.payload,user:{}});case"UPDATE_PROFILE":return Object(j.a)({},e,{isLoading:!1,errMess:null,user:a.payload});default:return e}},O=t(45),A=t(574),R=t(284),L=t(568),D=t(576),I=t(571),B=t(567),F=t(555),q=t(24),T=t.n(q),_=t(51),M=t(558),z=t(570),H=t(551),G=t(309),U=t(108),W=t(541),V=t(194),Y=t(552),$=t(64),K=t.n($),J={isAuthenticated:function(){var e=localStorage.token;if(!e)return!1;var a=K()(e);return!!(a&&a.userId&&a.userRole&&a.iat&&a.exp)&&a.exp>Date.now()/1e3},signout:function(e){localStorage.clear(),e()}},Q=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).trigger=d.a.createElement("span",null,d.a.createElement(_.a,{name:"user"})," Hello, ",t.props.user.firstName),t.options=[{key:"user",text:d.a.createElement("span",null,"Call us on ",d.a.createElement("strong",null,"08091234567")),disabled:!0},{key:"profile",text:d.a.createElement(V.a,{as:"a",to:"/profile",style:{color:"black",padding:0}},"My Profile")},{key:"faq",text:d.a.createElement(V.a,{as:"a",to:"/faq",style:{color:"black",padding:0}},"FAQ")},{key:"how-to-pay",text:d.a.createElement(V.a,{as:"a",to:"/how-to-pay",style:{color:"black",padding:0}},"How to Pay")},{key:"contact",text:d.a.createElement(V.a,{as:"a",to:"/contact",style:{color:"black",padding:0}},"Contact Us")},{key:"number",text:t.props.user.phoneNumber,disabled:!0},{key:"sign-out",text:d.a.createElement(M.a,{as:"a",style:{color:"black",padding:0},onClick:function(){return J.signout(function(){return t.props.history.push("/login")})}},"Sign Out")}],t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(z.a,{fixed:"top",inverted:!0},d.a.createElement(H.a,{fluid:!0},d.a.createElement(Y.a,{to:"/"},d.a.createElement(z.a.Item,{header:!0},d.a.createElement(G.a,{size:"tiny",src:"https://dmx-backend.herokuapp.com/dmx-logo.jpg",style:{marginRight:"1em"}}))),d.a.createElement(z.a.Menu,{position:"right"},J.isAuthenticated()?d.a.createElement(U.a,{item:!0,trigger:this.trigger,options:this.options}):d.a.createElement(d.a.Fragment,null,"/login"===this.props.location.pathname&&d.a.createElement(z.a.Item,null,d.a.createElement(V.a,{to:"/register"}," ",d.a.createElement(W.a,{color:"green"},"Sign up"))),"/register"===this.props.location.pathname&&d.a.createElement(z.a.Item,null,d.a.createElement(V.a,{to:"/login"}," ",d.a.createElement(W.a,null,"Log-in")," ")))))))}}]),a}(m.Component),X=t(569),Z=t(563),ee=t(8),ae=t(15),te=ae.object().shape({email:ae.string().required("Email address is required to login").email("Please provide a valid email address"),password:ae.string().required("Password is required").min(6,"Password must be at least 6 characters long").max(64,"Password too long!")}),ne=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this,a=(this.props.location.state||{from:{pathname:"/all"}}).from;return this.state.redirectToReferrer?d.a.createElement(L.a,{to:{pathname:a.pathname,state:{message:"Logged in Successfully"}}}):(localStorage.clear(),d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",marginTop:"5em"}},d.a.createElement("div",null,d.a.createElement(X.a,{as:"h2",textAlign:"center",dividing:!0},"Login "),d.a.createElement(ee.d,{initialValues:{email:"",password:""},onSubmit:function(a,t){T.a.post("https://dmx-backend.herokuapp.com/api/v1/auth/login",a).then(function(a){n=void 0,localStorage.setItem("token",a.data.token),e.setState({redirectToReferrer:!0})}).catch(function(e){console.log(e),e.response&&(n=e.response.data)}).then(function(){return t.setSubmitting(!1)})},validationSchema:function(){return te}},function(e){var a=e.errors,t=e.touched,r=(e.values,e.isSubmitting);return d.a.createElement(ee.c,{className:n?"ui form new error":"ui form new"},d.a.createElement("div",{className:"two fields"},d.a.createElement("div",{className:a.email&&t.email?"field error":"field"},d.a.createElement("label",null,"Email",d.a.createElement(ee.b,{type:"email",name:"email",placeholder:"abc@xyz.com"}),d.a.createElement(ee.a,{name:"email",component:"div"}))),d.a.createElement("div",{className:a.password&&t.password?"field error":"field"},d.a.createElement("label",null,"Password",d.a.createElement(ee.b,{type:"password",name:"password",placeholder:"********"}),d.a.createElement(ee.a,{name:"password",component:"div"})))),d.a.createElement("div",{style:{marginBottom:"1em"}},n&&d.a.createElement(Z.a,{error:!0,header:"Action Forbidden",content:n.error})),d.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},d.a.createElement(W.a,{loading:r,type:"submit",className:"dmx-color"},"Login")))}))))}}]),a}(m.Component),re=function(){return d.a.createElement("div",{style:{minHeight:"calc(100vh - 5em)",marginTop:"-5em",display:"flex",flexDirection:"column",marginLeft:"2em",alignItems:"center",justifyContent:"center"}},d.a.createElement(X.a,{as:"h2",icon:!0,textAlign:"center"},d.a.createElement(_.a,{name:"x",circular:!0}),d.a.createElement(X.a.Content,null,"Page Not Found")),d.a.createElement(Y.a,{to:"/all"},d.a.createElement(W.a,{className:"dmx-color"},"Go Back to Home Page")))},ie=t(151),le=ae.object().shape({firstName:ae.string().min(2,"First name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters").required("First name is required"),lastName:ae.string().min(2,"Last name cannot be less than 2 characters").max(50,"Last name provided is too long. Please provide in the range of 2 - 50 characters").required("Last name is required"),email:ae.string().required("Email address is required to register").email("Please provide a valid email address"),phoneNumber:ae.string().required("Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),password:ae.string().required("Password is required").min(6,"Password must be at least 6 characters long").max(64,"Password too long!"),confirmPassword:ae.string().oneOf([ae.ref("password"),null],"Passwords must match"),businessName:ae.string().min(2,"Business name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters")}),oe=function(e){var a=e.field,t=a.name,n=a.value,r=a.onChange,i=a.onBlur,l=e.id,o=e.label,s=(e.className,Object(ie.a)(e,["field","id","label","className"]));return d.a.createElement("div",null,d.a.createElement("input",Object.assign({name:t,id:l,type:"radio",value:l,checked:l===n,onChange:r,onBlur:i},s)),d.a.createElement("label",{htmlFor:l},o))},se=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e,a=this,t=(this.props.location.state||{from:{pathname:"/all"}}).from;return this.state.redirectToReferrer?d.a.createElement(L.a,{to:{pathname:t.pathname,state:{message:"Registered successfully"}}}):d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",minHeight:"100vh",justifyContent:"center",alignItems:"center",marginTop:"-2em"}},d.a.createElement("div",null,d.a.createElement(X.a,{as:"h2",textAlign:"center",dividing:!0},"Register "),d.a.createElement(ee.d,{initialValues:{firstName:"",lastName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",businessName:"",userRole:"personal"},onSubmit:function(t,n){T.a.post("https://dmx-backend.herokuapp.com/api/v1/auth/signup",t).then(function(t){e=void 0,localStorage.setItem("token",t.data.token),a.setState({redirectToReferrer:!0})}).catch(function(a){console.log(a),e=a.response.data}).then(function(){return n.setSubmitting(!1)})},validationSchema:function(){return le}},function(a){var t=a.errors,n=a.touched,r=a.values,i=a.isSubmitting;return d.a.createElement(ee.c,{className:e?"ui form new error":"ui form new"},d.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},d.a.createElement("div",{style:{marginTop:"0"},className:"ui compact segment black"},d.a.createElement("div",{className:"ui toggle checkbox"},d.a.createElement(ee.b,{component:oe,name:"userRole",id:"business",label:"Business"}))),d.a.createElement("div",{style:{marginTop:"0"},className:"ui compact segment black"},d.a.createElement("div",{className:"ui toggle checkbox"},d.a.createElement(ee.b,{component:oe,name:"userRole",id:"personal",label:"Personal"})))),d.a.createElement("div",{className:"two fields"},d.a.createElement("div",{className:t.firstName&&n.firstName?"field error":"field"},d.a.createElement("label",null,"First Name",d.a.createElement(ee.b,{type:"text",name:"firstName",placeholder:"Olawale"}),d.a.createElement(ee.a,{name:"firstName",component:"div"}))),d.a.createElement("div",{className:t.lastName&&n.lastName?"field error":"field"},d.a.createElement("label",null,"Last Name",d.a.createElement(ee.b,{type:"text",name:"lastName",placeholder:"Chinedu"}),d.a.createElement(ee.a,{name:"lastName",component:"div"})))),d.a.createElement("div",{className:"two fields"},d.a.createElement("div",{className:t.email&&n.email?"field error":"field"},d.a.createElement("label",null,"Email",d.a.createElement(ee.b,{type:"email",name:"email",placeholder:"abc@xyz.com"}),d.a.createElement(ee.a,{name:"email",component:"div"}))),d.a.createElement("div",{className:t.phoneNumber&&n.phoneNumber?"field error":"field"},d.a.createElement("label",null,"Phone Number",d.a.createElement(ee.b,{type:"text",name:"phoneNumber",placeholder:"08031234567/+234708123456"}),d.a.createElement(ee.a,{name:"phoneNumber",component:"div"})))),d.a.createElement("div",{className:"two fields"},d.a.createElement("div",{className:t.password&&n.password?"field error":"field"},d.a.createElement("label",null,"Password",d.a.createElement(ee.b,{type:"password",name:"password",placeholder:"********"}),d.a.createElement(ee.a,{name:"password",component:"div"}))),d.a.createElement("div",{className:t.confirmPassword&&n.confirmPassword?"field error":"field"},d.a.createElement("label",null,"Confirm Password",d.a.createElement(ee.b,{type:"password",name:"confirmPassword",placeholder:"********"}),d.a.createElement(ee.a,{name:"confirmPassword",component:"div"})))),d.a.createElement("div",null," ","business"===r.userRole&&d.a.createElement("div",{className:t.businessName&&n.businessName?"field error":"field"},d.a.createElement("label",null,"Business Name",d.a.createElement(ee.b,{name:"businessName",placeholder:"Almond Clothiers"}),d.a.createElement(ee.a,{name:"businessName",component:"div"})))," "),d.a.createElement("div",{style:{marginBottom:"1em"}},e&&d.a.createElement(Z.a,{error:!0,header:"Action Forbidden",content:e.error}),void 0),d.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},d.a.createElement(W.a,{loading:i,type:"submit",className:"dmx-color"},"Sign Up")))})))}}]),a}(m.Component),ce=t(141),me=t(107),de=t(564),ue=function(e){function a(e){var t;return Object(h.a)(this,a),(t=Object(f.a)(this,Object(E.a)(a).call(this,e))).state={isNavOpen:!1},t.toggleNav=t.toggleNav.bind(Object(ce.a)(t)),t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen}),console.log(this.state.isNavOpen)}},{key:"render",value:function(){var e,a,t=localStorage.token;return t&&(e=K()(t)),e&&(a=e.userRole),d.a.createElement("div",{fixed:"top",style:{paddingTop:"3.8em"}},d.a.createElement(de.a,{id:"sidebar",isOpen:this.state.isNavOpen},d.a.createElement(z.a,{vertical:!0,inverted:!0,className:" sidebar-menu dmx-color"},J.isAuthenticated()&&"rider"!==a&&"admin"!==a&&d.a.createElement(Y.a,{className:"item",to:"/new"},d.a.createElement(me.a,{color:"green"},"+"),"Request a delivery"),J.isAuthenticated()&&d.a.createElement(Y.a,{className:"item",to:"/current"},"Active Orders"),J.isAuthenticated()&&d.a.createElement(Y.a,{className:"item",to:"/completed"},"Delivered Orders"),J.isAuthenticated()&&d.a.createElement(Y.a,{className:"item",to:"/all"},"All Orders"),J.isAuthenticated()&&"admin"!==a&&d.a.createElement(Y.a,{className:"item",to:"/profile"},d.a.createElement(_.a,{name:"user circle"}),"My Profile"),J.isAuthenticated()&&"admin"===a&&d.a.createElement(Y.a,{className:"item",to:"/new-rider"},d.a.createElement(_.a,{name:"bicycle"}),"Create Rider"))),J.isAuthenticated()&&"admin"===a&&d.a.createElement(_.a,{id:"mobile-menu",name:"bars",size:"big",onClick:this.toggleNav}))}}]),a}(m.Component),pe=t(559),he=function(e){var a=e.order;return d.a.createElement(d.a.Fragment,null,d.a.createElement(pe.a.Cell,null,d.a.createElement(me.a,{color:"processing"===a.status?"blue":"confirmed"===a.status?"orange":"in transit"===a.status?"teal":"delivered"===a.status?"green":"black",ribbon:!0},a.id)),d.a.createElement(pe.a.Cell,null,d.a.createElement(me.a,{color:"black"},"\u20a6",Number(a.price))),d.a.createElement(pe.a.Cell,null,new Date(a.createdAt).toDateString()),d.a.createElement(pe.a.Cell,null,"processing"===a.status?d.a.createElement("p",null,d.a.createElement(_.a,{name:"wait"})," Processing"):"confirmed"===a.status?d.a.createElement("p",null,d.a.createElement(_.a,{name:"checkmark"})," Confirmed"):"in transit"===a.status?d.a.createElement("p",null,d.a.createElement(_.a,{name:"bicycle"})," In Transit"):"delivered"===a.status?d.a.createElement("p",null,d.a.createElement(_.a,{name:"checkmark"})," Delivered"):d.a.createElement("p",null,d.a.createElement(_.a,{name:"x"})," Cancelled")),d.a.createElement(pe.a.Cell,null,d.a.createElement(V.a,{to:"/orders/".concat(a.id)},d.a.createElement(W.a,{className:"dmx-color",animated:"vertical"},d.a.createElement(W.a.Content,{hidden:!0},"Detailed View"),d.a.createElement(W.a.Content,{visible:!0},"Show More")))))},ge=function(e){var a=e.heading,t=e.orders,n=e.orderBy,r=t.map(function(e){return d.a.createElement(pe.a.Row,{key:e.id},d.a.createElement(he,{order:e}))});return d.a.createElement(d.a.Fragment,null,d.a.createElement(X.a,{as:"h3",dividing:!0},a),d.a.createElement(pe.a,{celled:!0},d.a.createElement(pe.a.Header,null,d.a.createElement(pe.a.Row,null,d.a.createElement(pe.a.HeaderCell,null,"Order Id",d.a.createElement(V.a,{style:{color:"#990000"},to:"#"},d.a.createElement(_.a,{name:"sort","data-name":"id",onClick:function(e){return n(e,t)}}))),d.a.createElement(pe.a.HeaderCell,null,"Amount",d.a.createElement(V.a,{style:{color:"#990000"},to:"#"},d.a.createElement(_.a,{name:"sort","data-name":"price",onClick:function(e){return n(e,t)}}))),d.a.createElement(pe.a.HeaderCell,null,"Date Ordered",d.a.createElement(V.a,{style:{color:"#990000"},to:"#"},d.a.createElement(_.a,{name:"sort","data-name":"createdAt",onClick:function(e){return n(e,t)}}))),d.a.createElement(pe.a.HeaderCell,null,"Status",d.a.createElement(V.a,{style:{color:"#990000"},to:"#"},d.a.createElement(_.a,{name:"sort","data-name":"status",onClick:function(e){return n(e,t)}}))),d.a.createElement(pe.a.HeaderCell,null,"View Details"))),d.a.createElement(pe.a.Body,null,r)))},fe=function(e){var a=e.orders;return d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},d.a.createElement(ge,{heading:"Active Orders",orders:a,orderBy:e.orderBy}))},Ee=function(e){var a=e.orders;return d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},d.a.createElement(ge,{heading:"Delivered Orders",orders:a,orderBy:e.orderBy}))},ve=ae.object().shape({firstName:ae.string().min(2,"First name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters").required("First name is required"),lastName:ae.string().min(2,"Last name cannot be less than 2 characters").max(50,"Last name provided is too long. Please provide in the range of 2 - 50 characters").required("Last name is required"),email:ae.string().required("Email address is required to register").email("Please provide a valid email address"),phoneNumber:ae.string().required("Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),password:ae.string().required("Password is required").min(6,"Password must be at least 6 characters long").max(64,"Password too long!"),confirmPassword:ae.string().oneOf([ae.ref("password"),null],"Passwords must match")}),be=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e,a=this,t={pathname:"/all"};return this.state.redirectToReferrer?d.a.createElement(L.a,{to:{pathname:t.pathname,state:{message:"Registered Rider successfully"}}}):d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",minHeight:"100vh",justifyContent:"center",alignItems:"center",marginTop:"-2em"}},d.a.createElement("div",null,d.a.createElement(X.a,{as:"h2",textAlign:"center",dividing:!0},"Create Rider"),d.a.createElement(ee.d,{initialValues:{firstName:"",lastName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",userRole:"rider"},onSubmit:function(t,n){T.a.post("https://dmx-backend.herokuapp.com/api/v1/auth/signup",t).then(function(t){e=void 0,a.setState({redirectToReferrer:!0})}).catch(function(a){console.log(a),e=a.response.data}).then(function(){return n.setSubmitting(!1)})},validationSchema:function(){return ve}},function(a){var t=a.errors,n=a.touched,r=(a.values,a.isSubmitting);return d.a.createElement(ee.c,{className:e?"ui form new error":"ui form new"},d.a.createElement("div",{className:"two fields"},d.a.createElement("div",{className:t.firstName&&n.firstName?"field error":"field"},d.a.createElement("label",null,"First Name",d.a.createElement(ee.b,{type:"text",name:"firstName",placeholder:"Olawale"}),d.a.createElement(ee.a,{name:"firstName",component:"div"}))),d.a.createElement("div",{className:t.lastName&&n.lastName?"field error":"field"},d.a.createElement("label",null,"Last Name",d.a.createElement(ee.b,{type:"text",name:"lastName",placeholder:"Chinedu"}),d.a.createElement(ee.a,{name:"lastName",component:"div"})))),d.a.createElement("div",{className:"two fields"},d.a.createElement("div",{className:t.email&&n.email?"field error":"field"},d.a.createElement("label",null,"Email",d.a.createElement(ee.b,{type:"email",name:"email",placeholder:"abc@xyz.com"}),d.a.createElement(ee.a,{name:"email",component:"div"}))),d.a.createElement("div",{className:t.phoneNumber&&n.phoneNumber?"field error":"field"},d.a.createElement("label",null,"Phone Number",d.a.createElement(ee.b,{type:"text",name:"phoneNumber",placeholder:"08031234567/+234708123456"}),d.a.createElement(ee.a,{name:"phoneNumber",component:"div"})))),d.a.createElement("div",{className:"two fields"},d.a.createElement("div",{className:t.password&&n.password?"field error":"field"},d.a.createElement("label",null,"Password",d.a.createElement(ee.b,{type:"password",name:"password",placeholder:"********"}),d.a.createElement(ee.a,{name:"password",component:"div"}))),d.a.createElement("div",{className:t.confirmPassword&&n.confirmPassword?"field error":"field"},d.a.createElement("label",null,"Confirm Password",d.a.createElement(ee.b,{type:"password",name:"confirmPassword",placeholder:"********"}),d.a.createElement(ee.a,{name:"confirmPassword",component:"div"})))),d.a.createElement("div",{style:{marginBottom:"1em"}},e&&d.a.createElement(Z.a,{error:!0,header:"Action Forbidden",content:e.error}),void 0),d.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},d.a.createElement(W.a,{loading:r,type:"submit",className:"dmx-color"},"Create Rider")))})))}}]),a}(m.Component),ye=t(88),Se=t.n(ye),Ne=ae.object().shape({senderName:ae.string().min(2,"Sender's Name too Short!").max(50,"Sender's Name too Long!").required("Sender's Name is Required"),senderPhone:ae.string().required("Sender's Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),senderEmail:ae.string().required("Sender's Email is Required").email("Please provide a valid email address"),senderAddress:ae.string().max(280,"Address provided too long")}),we=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).saveAndContinue=function(e){!t.props.values.senderCountry&&t.handlePlaceSelect(),t.props.updateState(e),t.props.nextStep()},t.handleScriptLoad=function(){var e={types:["geocode","establishment"],bounds:new google.maps.LatLngBounds(new google.maps.LatLng(6.5244,3.3792),new google.maps.LatLng(9.0765,7.3986)),fields:["address_components","formatted_address","geometry","name"]};t.autocomplete=new google.maps.places.Autocomplete(document.getElementById("senderAddress"),e),t.autocomplete.addListener("place_changed",t.handlePlaceSelect)},t.handlePlaceSelect=function(){var e=t.autocomplete.getPlace();if(!e){var a=new google.maps.Geocoder,n=document.getElementById("senderAddress").value;return a.geocode({address:n},function(a,r){if("OK"===r){var i=(e=a[0]).address_components.find(function(e){return"country"===e.types[0]}),l=e.address_components.find(function(e){return"administrative_area_level_1"===e.types[0]});t.props.updateState({senderState:l.long_name,senderCountry:i.long_name,senderAddress:n,srcData:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})}else alert("Geocode was not successful for the following reason: "+r)}),console.log(),null}var r=e.address_components.find(function(e){return"country"===e.types[0]}),i=e.address_components.find(function(e){return"administrative_area_level_1"===e.types[0]});r&&i&&t.props.updateState({senderState:i.long_name,senderCountry:r.long_name,senderAddress:"".concat(e.formatted_address),srcData:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(X.a,{as:"h3",dividing:!0},"Sender's Details "),d.a.createElement(ee.d,{initialValues:{senderName:this.props.values.senderName||"".concat(this.props.user.firstName," ").concat(this.props.user.lastName)||"",senderPhone:this.props.values.senderPhone||this.props.user.phoneNumber||"",senderEmail:this.props.values.senderEmail||this.props.user.email||""},onSubmit:function(a){e.saveAndContinue(a)},validationSchema:function(){return Ne}},function(a){var t=a.errors,n=a.touched;return d.a.createElement(ee.c,{className:"ui form new"},d.a.createElement(Se.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBGFjD-GUhv7z3uj8KjNM91c2q0ivWnecg&libraries=places,geometry",onLoad:e.handleScriptLoad}),d.a.createElement("div",{className:t.senderName&&n.senderName?"field error":"field"},d.a.createElement("label",null,"Sender's Name",d.a.createElement(ee.b,{type:"text",name:"senderName",placeholder:"Olawale Chinedu"}),d.a.createElement(ee.a,{name:"senderName",component:"div"}))),d.a.createElement("div",{className:t.senderPhone&&n.senderPhone?"field error":"field"},d.a.createElement("label",null,"Sender's Phone",d.a.createElement(ee.b,{type:"text",name:"senderPhone",placeholder:"08031234567/+234708123456"}),d.a.createElement(ee.a,{name:"senderPhone",component:"div"}))),d.a.createElement("div",{className:t.senderEmail&&n.senderEmail?"field error":"field"},d.a.createElement("label",null,"Sender's Email",d.a.createElement(ee.b,{type:"email",name:"senderEmail",placeholder:"abc@xyz.com"}),d.a.createElement(ee.a,{name:"senderEmail",component:"div"}))),d.a.createElement("div",{className:t.senderAddress&&n.senderAddress?"field error":"field"},d.a.createElement("label",null,"Sender's Address",d.a.createElement(ee.b,{value:e.props.values.senderAddress,id:"senderAddress",type:"text",name:"senderAddress",onChange:e.props.handleChange("senderAddress"),placeholder:"Sender's Address"}))),d.a.createElement(W.a,{type:"submit",className:"dmx-color",style:{display:"block"}},"Save And Continue"))}))}}]),a}(m.Component),Ce=ae.object().shape({recipientName:ae.string().min(2,"Recipient's Name too Short!").max(50,"Recipient's Name too Long!").required("Recipient's Name is Required"),recipientPhone:ae.string().required("Recipient's Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),recipientEmail:ae.string().email("Please provide a valid email address"),recipientAddress:ae.string().max(280,"Address provided too long")}),ke=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).saveAndContinue=function(e){t.props.updateState(e),t.props.nextStep()},t.back=function(e){e.preventDefault(),t.props.prevStep()},t.handleScriptLoad=function(){var e={types:["geocode","establishment"],bounds:new google.maps.LatLngBounds(new google.maps.LatLng(6.5244,3.3792),new google.maps.LatLng(9.0765,7.3986)),fields:["address_components","formatted_address","geometry","name"]};t.autocomplete=new google.maps.places.Autocomplete(document.getElementById("recipientAddress"),e),t.autocomplete.addListener("place_changed",t.handlePlaceSelect)},t.handlePlaceSelect=function(){var e=t.autocomplete.getPlace();if(e)var a=e.address_components.find(function(e){return"country"===e.types[0]});if(e)var n=e.address_components.find(function(e){return"administrative_area_level_1"===e.types[0]});a&&n&&t.props.updateState({recipientState:n.long_name,recipientCountry:a.long_name,recipientAddress:"".concat(e.formatted_address),destData:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(X.a,{as:"h3",dividing:!0},"Recipient's Details "),d.a.createElement(ee.d,{initialValues:{recipientName:this.props.values.recipientName||"",recipientPhone:this.props.values.recipientPhone||"",recipientEmail:this.props.values.recipientEmail||""},onSubmit:function(a){e.saveAndContinue(a)},validationSchema:function(){return Ce}},function(a){var t=a.errors,n=a.touched;return d.a.createElement(ee.c,{className:"ui form new"},d.a.createElement(Se.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBGFjD-GUhv7z3uj8KjNM91c2q0ivWnecg&libraries=places",onLoad:e.handleScriptLoad}),d.a.createElement("div",{className:t.recipientName&&n.recipientName?"field error":"field"},d.a.createElement("label",null,"Recipient's Name",d.a.createElement(ee.b,{type:"text",name:"recipientName",placeholder:"Olawale Chinedu"}),d.a.createElement(ee.a,{name:"recipientName",component:"div"}))),d.a.createElement("div",{className:t.recipientPhone&&n.recipientPhone?"field error":"field"},d.a.createElement("label",null,"Recipient's Phone",d.a.createElement(ee.b,{type:"text",name:"recipientPhone",placeholder:"08031234567/+234708123456"}),d.a.createElement(ee.a,{name:"recipientPhone",component:"div"}))),d.a.createElement("div",{className:t.recipientEmail&&n.recipientEmail?"field error":"field"},d.a.createElement("label",null,"Recipient's Email",d.a.createElement(ee.b,{type:"email",name:"recipientEmail",placeholder:"abc@xyz.com"}),d.a.createElement(ee.a,{name:"recipientEmail",component:"div"}))),d.a.createElement("div",{className:t.recipientAddress&&n.recipientAddress?"field error":"field"},d.a.createElement("label",null,"Recipient's Address",d.a.createElement(ee.b,{value:e.props.values.recipientAddress,id:"recipientAddress",type:"text",name:"recipientAddress",onChange:e.props.handleChange("recipientAddress"),placeholder:"recipient's Address"}))),d.a.createElement(W.a,{type:"button",secondary:!0,onClick:e.back},"Back"),d.a.createElement(W.a,{type:"submit",className:"dmx-color"},"Save And Continue"))}))}}]),a}(m.Component),je=ae.object().shape({itemDescription:ae.string().min(3,"Item description is too short").max(140,"Item description is too long").required("A short description of the package is required"),paymentStatus:ae.string().required("The method of payment is required"),weight:ae.number().min(1,"The package weight can not be less than 1 kg").max(10,"The package weight can not be more than 10 kg").required("The package weight is required"),extraInfo:ae.string().max(250,"extra information is too long")}),xe=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).saveAndContinue=function(e){t.props.updateState(e),t.props.nextStep()},t.back=function(e){e.preventDefault(),t.props.prevStep()},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(X.a,{as:"h3",dividing:!0}," Package Details "),d.a.createElement(ee.d,{initialValues:{itemDescription:this.props.values.itemDescription||"",weight:this.props.values.weight||"",extraInfo:this.props.values.extraInfo||"",paymentStatus:this.props.paymentStatus||"pay on pickup"},onSubmit:function(a){e.saveAndContinue(a)},validationSchema:function(){return je}},function(a){var t=a.errors,n=a.touched;return d.a.createElement(ee.c,{className:"ui form new"},d.a.createElement("div",{className:t.itemDescription&&n.itemDescription?"field error":"field"},d.a.createElement("label",null," Item Description",d.a.createElement(ee.b,{name:"itemDescription",placeholder:"A short description of the package"}),d.a.createElement(ee.a,{name:"itemDescription",component:"div"}))),d.a.createElement("div",{className:t.weight&&n.weight?"field error":"field"},d.a.createElement("label",null," Weight (kg)",d.a.createElement(ee.b,{name:"weight",type:"number"}),d.a.createElement(ee.a,{name:"weight",component:"div"}))),d.a.createElement("div",{className:t.extraInfo&&n.extraInfo?"field error":"field"},d.a.createElement("label",null," Extra Information",d.a.createElement(ee.b,{name:"extraInfo",placeholder:"e.g Please handle the package with extreme care"}),d.a.createElement(ee.a,{name:"extraInfo",component:"div"}))),d.a.createElement("div",{className:"field"},d.a.createElement("label",null," Payment Method",d.a.createElement(ee.b,{name:"paymentStatus",component:"select"},d.a.createElement("option",{value:"pay on delivery"},"Pay on Delivery"),d.a.createElement("option",{value:"bank transfer"},"Bank Transfer"),d.a.createElement("option",{value:"pay on pickup"},"Pay on Pickup"),d.a.createElement("option",{value:"credit/debit card"},"Credit/Debit Card"),d.a.createElement("option",{value:"wallet"},"Wallet")),d.a.createElement(ee.a,{name:"extraInfo",component:"div"}))),d.a.createElement(W.a,{type:"button",secondary:!0,onClick:e.back},"Back"),d.a.createElement(W.a,{type:"submit",className:"dmx-color"},"Save And Continue"))}))}}]),a}(m.Component),Pe=t(566),Oe=t(296),Ae=t.n(Oe),Re=t(297),Le=t.n(Re),De=[{name:"chevron",lat:"6.442360499999999",lng:"3.5310041",region:"island3"},{name:"ikate",lat:"6.4398178",lng:"3.488976",region:"island3"},{name:"ajah underbridge",lat:"6.4686055",lng:"3.5656496",region:"island3"},{name:"victoria garden city",lat:"6.4660322",lng:"3.5445844",region:"island3"},{name:"maruwa",lat:"6.6102306",lng:"3.2552308",region:"island3"},{name:"lekki phase 1",lat:"6.4439009",lng:"3.4750836",region:"island3"},{name:"chisco",lat:"6.4832372",lng:"3.3672937",region:"island3"},{name:"ilaje",lat:"6.6082988",lng:"3.3979224",region:"island3"},{name:"agungi",lat:"6.442713299999999",lng:"3.5158297",region:"island3"},{name:"igbo efon",lat:"6.438785999999999",lng:"3.522848",region:"island3"},{name:"ajah motor park",lat:"6.466000900000001",lng:"3.5626344",region:"island3"},{name:"ikota",lat:"6.5243793",lng:"3.3792057",region:"island3"}],Ie=[{name:"lbs",lat:"6.472829399999999",lng:"3.603556299999999",region:"island4"},{name:"shoprite circle",lat:"6.4384522",lng:"3.5088246",region:"island4"},{name:"abraham adesanya",lat:"6.4657145",lng:"3.590128199999999",region:"island4"},{name:"addo road",lat:"6.4841558",lng:"3.5743282",region:"island4"},{name:"badore",lat:"6.5037588",lng:"3.6014641",region:"island4"}],Be=[{name:"amukoko",lat:"6.4700526",lng:"3.3426697",region:"mainland1"},{name:"ajegunle",lat:"6.443368599999999",lng:"3.3552653",region:"mainland1"},{name:"mile 2",lat:"6.4659336",lng:"3.3197915",region:"mainland1"},{name:"apapa",lat:"6.4446406",lng:"3.3640841",region:"mainland1"},{name:"orile",lat:"6.4780354",lng:"3.3426697",region:"mainland1"},{name:"signal barracks",lat:"6.4607185",lng:"3.3170945",region:"mainland1"},{name:"amuwo odofin",lat:"6.4291734",lng:"3.2885455",region:"mainland1"},{name:"maza maza",lat:"6.4599636",lng:"3.303827",region:"mainland1"},{name:"trade fair",lat:"6.4558781",lng:"3.245889",region:"mainland1"},{name:"festac",lat:"6.4664448",lng:"3.2835137",region:"mainland1"}],Fe=[{name:"abule nla",lat:"6.4775974",lng:"3.3587296",region:"mainland2"},{name:"mile 12",lat:"6.601532499999999",lng:"3.3968535",region:"mainland2"},{name:"costain",lat:"6.459525699999999",lng:"3.2069548",region:"mainland2"},{name:"makoko",lat:"6.4990277",lng:"3.3880288",region:"mainland2"},{name:"iganmu",lat:"6.4846306",lng:"3.3514863",region:"mainland2"},{name:"bariga",lat:"6.5391037",lng:"3.3849441",region:"mainland2"},{name:"ijora",lat:"6.473953",lng:"3.356525",region:"mainland2"},{name:"yaba",lat:"6.5095442",lng:"3.3710936",region:"mainland2"},{name:"somolu",lat:"6.539173",lng:"3.3841676",region:"mainland2"},{name:"obanikoro",lat:"6.5524054",lng:"3.3703842",region:"mainland2"},{name:"oshodi",lat:"6.535498",lng:"3.3086778",region:"mainland2"},{name:"fadeyi",lat:"6.528482899999999",lng:"3.3628242",region:"mainland2"},{name:"oworonshoki",lat:"6.550845",lng:"3.4044187",region:"mainland2"},{name:"oyingbo",lat:"6.4816024",lng:"3.3847014",region:"mainland2"},{name:"mushin",lat:"6.535233000000001",lng:"3.3489671",region:"mainland2"},{name:"akoka",lat:"6.526958100000001",lng:"3.3918106",region:"mainland2"},{name:"iponri",lat:"6.4851769",lng:"3.3632507",region:"mainland2"},{name:"jibowu",lat:"6.5177977",lng:"3.3678641",region:"mainland2"},{name:"ketu",lat:"6.5962346",lng:"3.3918106",region:"mainland2"},{name:"surulere",lat:"6.4926317",lng:"3.3489671",region:"mainland2"},{name:"onipanu",lat:"6.541816799999999",lng:"3.3603044",region:"mainland2"},{name:"ilupeju",lat:"6.553648399999999",lng:"3.3566738",region:"mainland2"},{name:"ojota",lat:"6.5856397",lng:"3.3817264",region:"mainland2"},{name:"ogudu",lat:"6.574910699999999",lng:"3.3918106",region:"mainland2"},{name:"kosofe",lat:"6.5987808",lng:"3.4094629",region:"mainland2"},{name:"gbagada",lat:"6.561637699999999",lng:"3.3842473",region:"mainland2"},{name:"ojuelegba",lat:"6.510951299999999",lng:"3.3632594",region:"mainland2"}],qe=[{name:"agege",lat:"6.615355600000001",lng:"3.3237824",region:"mainland3"},{name:"ogba",lat:"6.625188199999999",lng:"3.3441475",region:"mainland3"},{name:"oregun",lat:"6.6070693",lng:"3.366604",region:"mainland3"},{name:"shogunle",lat:"6.575297099999999",lng:"3.34164",region:"mainland3"},{name:"ajao estate",lat:"6.5500253",lng:"3.3275593",region:"mainland3"},{name:"anthony village",lat:"6.564353",lng:"3.3766851",region:"mainland3"},{name:"dopemu",lat:"6.6127388",lng:"3.3162295",region:"mainland3"},{name:"airforce base",lat:"6.5783955",lng:"3.3369335",region:"mainland3"},{name:"maryland",lat:"6.576421",lng:"3.365344",region:"mainland3"},{name:"alausa",lat:"6.6211078",lng:"3.3609343",region:"mainland3"},{name:"murtala mohammed",lat:"6.5818185",lng:"3.3211348",region:"mainland3"},{name:"ikeja",lat:"6.601838",lng:"3.3514863",region:"mainland3"},{name:"omole phase 1",lat:"6.6376368",lng:"3.3558156",region:"mainland3"}],Te=[{name:"berger",lat:"6.6470273",lng:"3.3741647",region:"mainland4"},{name:"isheri",lat:"6.6351156",lng:"3.3603044",region:"mainland4"},{name:"magodo phase 2",lat:"6.6176339",lng:"3.3817264",region:"mainland4"},{name:"ojodu berger",lat:"6.6470273",lng:"3.3741647",region:"mainland4"},{name:"toll gate",lat:"6.435820199999999",lng:"3.4471546",region:"mainland4"},{name:"magodo phase 1",lat:"6.635437599999999",lng:"3.3859966",region:"mainland4"},{name:"abule egba",lat:"6.6483728",lng:"3.2991753",region:"mainland4"}],_e=[{name:"oshodi-isolo",lat:"6.535498",lng:"3.3086778",region:"mainland5"},{name:"isheri",lat:"6.6351156",lng:"3.3603044",region:"mainland5"},{name:"ijegun",lat:"6.5164545",lng:"3.2597081",region:"mainland5"},{name:"ejigbo",lat:"6.5515802",lng:"3.2935778",region:"mainland5"},{name:"ikotun",lat:"6.562564399999999",lng:"3.2432781",region:"mainland5"},{name:"okota",lat:"6.5088349",lng:"3.3137121",region:"mainland5"},{name:"baruwa",lat:"6.673216399999999",lng:"3.2751898",region:"mainland5"},{name:"igando",lat:"6.535889",lng:"3.2483058",region:"mainland5"},{name:"isolo",lat:"6.535498",lng:"3.3086778",region:"mainland5"},{name:"oke afa isolo",lat:"6.5298354",lng:"3.3120087",region:"mainland5"},{name:"iyana ipaja",lat:"6.6053337",lng:"3.2792438",region:"mainland5"},{name:"cele egbe",lat:"6.5341304",lng:"3.2789643",region:"mainland5"},{name:"ago palace",lat:"6.5001598",lng:"3.3027159",region:"mainland5"},{name:"egbeda",lat:"6.5915737",lng:"3.2910616",region:"mainland5"},{name:"alimosho",lat:"6.5744462",lng:"3.2569872",region:"mainland5"},{name:"jakande oke afa",lat:"6.524732500000001",lng:"3.2973682",region:"mainland5"}],Me=function(e){return e*Math.PI/180},ze=function(e){var a,t=[];return Ae.a.concat(Le.a,De,Ie,Be,Fe,qe,Te,_e).map(function(a){var n=[];n.push(function(e,a){var t=Me(e.lat),n=Me(e.lng),r=Me(a.lat),i=Me(a.lng);return 6371*Math.acos(Math.sin(t)*Math.sin(r)+Math.cos(t)*Math.cos(r)*Math.cos(n-i))}(e,a)),n.push(a.region),n.push(a.name),t.push(n)}),(a=t,a.reduce(function(e,a){return e[0]<a[0]?e:a}))[1]},He={island1:1e3,island2:1e3,island3:1e3,island4:1200,mainland1:1500,mainland2:1e3,mainland3:1200,mainland4:1500,mainland5:1800},Ge={island1:1e3,island2:800,island3:1e3,island4:1200,mainland1:1500,mainland2:1200,mainland3:1500,mainland4:1500,mainland5:1800},Ue={island1:1e3,island2:1e3,island3:800,island4:1e3,mainland1:1500,mainland2:1200,mainland3:1500,mainland4:1800,mainland5:2e3},We={island1:1200,island2:1200,island3:1e3,island4:1e3,mainland1:1500,mainland2:1500,mainland3:1800,mainland4:1800,mainland5:2e3},Ve={island1:1500,island2:1500,island3:1500,island4:1500,mainland1:1e3,mainland2:1e3,mainland3:1500,mainland4:1800,mainland5:1500},Ye={island1:1e3,island2:1200,island3:1200,island4:1500,mainland1:1e3,mainland2:1e3,mainland3:1e3,mainland4:1500,mainland5:1500},$e={island1:1200,island2:1500,island3:1500,island4:1800,mainland1:1500,mainland2:1e3,mainland3:1e3,mainland4:1200,mainland5:1200},Ke={island1:1500,island2:1500,island3:1800,island4:1800,mainland1:1800,mainland2:1500,mainland3:1200,mainland4:1e3,mainland5:1200},Je={island1:1800,island2:1800,island3:2e3,island4:2e3,mainland1:2e3,mainland2:1500,mainland3:1200,mainland4:1200,mainland5:1e3},Qe=function(e,a){var t,n=ze(a);switch(ze(e)){case"island1":t=He[n];break;case"island2":t=Ge[n];break;case"island3":t=Ue[n];break;case"island4":t=We[n];break;case"mainland1":t=Ve[n];break;case"mainland2":t=Ye[n];break;case"mainland3":t=$e[n];break;case"mainland4":t=Ke[n];break;case"mainland5":t=Je[n];break;default:console.log("chill")}return t},Xe=t(560),Ze=function(e){var a=e.listItems,t=e.label;return d.a.createElement(Pe.a.Column,null,d.a.createElement(B.a,null,d.a.createElement(me.a,{size:"tiny",attached:"top left"}," ",t),d.a.createElement(Xe.a,{divided:!0,relaxed:!0},a)))},ea=function(e){var a=e.header,t=e.description,n=e.iconName;return d.a.createElement(Xe.a.Item,null,d.a.createElement(Xe.a.Icon,{name:n,size:"large",verticalAlign:"middle"}),d.a.createElement(Xe.a.Content,null,d.a.createElement(Xe.a.Header,null,a,":"),d.a.createElement(Xe.a.Description,{style:{color:"#990000"}},t)))},aa=function(e){function a(e){var t;return Object(h.a)(this,a),(t=Object(f.a)(this,Object(E.a)(a).call(this,e))).saveAndContinue=function(e){e.preventDefault(),console.log(i);var a=t.props.values;a.price=i,delete a.recipientCountry,delete a.recipientState,delete a.srcData,delete a.destData,delete a.senderCountry,delete a.senderState;var n=localStorage.token;t.setState({isSubmitting:!0}),T()({method:"post",url:"https://dmx-backend.herokuapp.com/api/v1/orders",headers:{"auth-token":n},data:a}).then(function(e){t.setState({isSubmitting:!1}),console.log(e),t.props.nextStep()}).catch(function(e){r=e.response.data.error,t.setState({isSubmitting:!1}),console.log(e),console.log(e.response.data),r=e.response.data.error})},t.back=function(e){e.preventDefault(),t.props.prevStep()},t.state={isSubmitting:!1,redirectToReferrer:!1},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/all"}}).from;if(this.state.redirectToReferrer)return d.a.createElement(L.a,{to:{pathname:e.pathname,state:{message:"Order Created Successfully"}}});var a=this.props.values,t=a.senderName,n=a.senderPhone,l=a.senderEmail,o=a.senderAddress,s=a.recipientName,c=a.recipientPhone,m=a.recipientEmail,u=a.recipientAddress,p=a.senderState,h=a.srcData,g=a.destData,f=a.recipientState,E=a.paymentStatus,v=a.weight,b=a.extraInfo,y=a.itemDescription;"Lagos"===p&&"Lagos"===f&&(i=Qe(h,g));var S=d.a.createElement(d.a.Fragment,null,d.a.createElement(ea,{header:"Sender's Name",description:t,iconName:"user"}),d.a.createElement(ea,{header:"Sender's Phone",description:n,iconName:"phone"}),d.a.createElement(ea,{header:"Sender's Email",description:l,iconName:"mail"}),d.a.createElement(ea,{header:"Sender's Address",description:o,iconName:"map marker alternate"})),N=d.a.createElement(d.a.Fragment,null,d.a.createElement(ea,{header:"Recipient's Name",description:s,iconName:"user"}),d.a.createElement(ea,{header:"Recipient's Phone",description:c,iconName:"phone"}),d.a.createElement(ea,{header:"Recipient's Email",description:m,iconName:"mail"}),d.a.createElement(ea,{header:"Recipient's Address",description:u,iconName:"marker"})),w=d.a.createElement(d.a.Fragment,null,d.a.createElement(ea,{header:"Item Description",description:y,iconName:"info"}),d.a.createElement(ea,{header:"Weight",description:"".concat(v,"kg"),iconName:"weight"}),d.a.createElement(ea,{header:"Extra Information",description:b,iconName:"info"}),d.a.createElement(ea,{header:"PaymentStatus",description:E,iconName:"money bill alternate outline"}));return d.a.createElement("div",null,d.a.createElement("h1",{className:"ui centered"},"Confirm your Details"),d.a.createElement("p",null,"Click Confirm if the following details have been correctly entered"),d.a.createElement(Pe.a,{columns:3,divided:!0},d.a.createElement(Pe.a.Row,{stretched:!0},d.a.createElement(Ze,{listItems:S,label:"Sender Details"}),d.a.createElement(Ze,{listItems:N,label:"Recipient Details"}),d.a.createElement(Ze,{listItems:w,label:"Package Details"})),d.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},d.a.createElement(B.a,{raised:!0,attached:"top",style:{textAlign:"center"}},"The estimated price of the package is",d.a.createElement("span",{style:{color:"#900",fontWeight:"bold"}}," \u20a6",i)),d.a.createElement(Z.a,{warning:!0,attached:"bottom"},d.a.createElement(_.a,{name:"warning"}),"This is just an estimate, this can be adjusted before pick up!")),d.a.createElement("div",{style:{margin:"1em"}},r&&d.a.createElement(d.a.Fragment,null,d.a.createElement(Z.a,{error:!0,header:"Action Forbidden",content:r}),r=void 0,d.a.createElement("p",null,"Please go back to effect changes before this can be submitted"))),d.a.createElement(Pe.a.Row,null,d.a.createElement(W.a,{secondary:!0,onClick:this.back},"Back"),d.a.createElement(W.a,{primary:!0,loading:this.state.isSubmitting,onClick:this.saveAndContinue},"Confirm"))))}}]),a}(m.Component),ta=function(e){function a(){return Object(h.a)(this,a),Object(f.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return setTimeout(function(){return window.location.href="/all"},2500),d.a.createElement("div",{style:{minHeight:"calc(100vh - 5em)",marginTop:"-5em",display:"flex",flexDirection:"column",marginLeft:"2em",alignItems:"center",justifyContent:"center"}},d.a.createElement("h1",{className:"ui centered"}," Order Created Successfully ")," ",localStorage.dataLoaded=void 0," ",d.a.createElement("p",null," Redirecting to home... "))}}]),a}(m.Component),na=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={step:5,senderName:"",senderPhone:"",senderEmail:"",senderAddress:t.props.user.address||"",senderState:"",senderCountry:"",recipientName:"",recipientPhone:"",recipientEmail:"",recipientAddress:"",recipientState:"",recipientCountry:"",itemDescription:"",paymentStatus:"",weight:1,extraInfo:"",priceEstimate:""},t.nextStep=function(){var e=t.state.step;t.setState({step:e+1})},t.prevStep=function(){var e=t.state.step;t.setState({step:e-1})},t.updateState=function(e){t.setState(Object(j.a)({},e))},t.handleChange=function(e){return function(a){t.setState(Object(O.a)({},e,a.target.value))}},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this.state.step,a=this.state,t={senderName:a.senderName,senderPhone:a.senderPhone,senderEmail:a.senderEmail,senderAddress:a.senderAddress,senderState:a.senderState,senderCountry:a.senderCountry,srcData:a.srcData,recipientName:a.recipientName,recipientPhone:a.recipientPhone,recipientEmail:a.recipientEmail,recipientAddress:a.recipientAddress,recipientState:a.recipientState,recipientCountry:a.recipientCountry,destData:a.destData,itemDescription:a.itemDescription,paymentStatus:a.paymentStatus,weight:a.weight,extraInfo:a.extraInfo};switch(e){case 1:return d.a.createElement(we,{nextStep:this.nextStep,updateState:this.updateState,handleChange:this.handleChange,values:t,user:this.props.user});case 2:return d.a.createElement(ke,{nextStep:this.nextStep,prevStep:this.prevStep,updateState:this.updateState,handleChange:this.handleChange,values:t,user:this.props.user});case 3:return d.a.createElement(xe,{nextStep:this.nextStep,prevStep:this.prevStep,updateState:this.updateState,values:t});case 4:return d.a.createElement(aa,{nextStep:this.nextStep,prevStep:this.prevStep,values:t,location:this.props.location});case 5:return d.a.createElement(ta,null);default:return null}}}]),a}(m.Component),ra=function(e){function a(){return Object(h.a)(this,a),Object(f.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},d.a.createElement(na,{location:this.props.location,user:this.props.user}))}}]),a}(m.Component),ia=t(561),la=function(e){function a(e){var t;return Object(h.a)(this,a),(t=Object(f.a)(this,Object(E.a)(a).call(this,e))).handlePaginationChange=function(e,a){var n=a.activePage;t.setState({activePage:n}),t.props.updateState({activePage:n}),t.props.handlePaginationChange(n)},t.handleDismiss=function(){t.setState({visibleLog:!1}),localStorage.setItem("visibleLog","false")},t.state={visibleLog:!0,dataLoaded:!1,activePage:t.props.activePage,boundaryRange:1,siblingRange:1,showEllipsis:!0,showFirstAndLastNav:!0,showPreviousAndNextNav:!0,totalPages:Math.ceil(t.props.count/10)},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){localStorage.visibleLog&&this.setState({visibleLog:!1})}},{key:"render",value:function(){this.state.dataLoaded||localStorage.dataLoaded||(localStorage.dataLoaded="yes",window.location.reload());var e=this.props.orders,a=this.state,t=a.activePage,n=a.boundaryRange,r=a.siblingRange,i=a.showEllipsis,l=a.showFirstAndLastNav,o=a.showPreviousAndNextNav,s=a.totalPages;return d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},this.props.location.state&&this.state.visibleLog&&d.a.createElement(Z.a,{color:"green",floating:!0,onDismiss:this.handleDismiss,header:this.props.location.state.message}),d.a.createElement(ge,{heading:"All Orders",orders:e,orderBy:this.props.orderBy}),s>1&&d.a.createElement(Pe.a,{centered:!0,columns:2},d.a.createElement(Pe.a.Column,null,d.a.createElement(ia.a,{inverted:!0,className:"dmx-color",activePage:t,boundaryRange:n,onPageChange:this.handlePaginationChange,size:"big",siblingRange:r,totalPages:s,ellipsisItem:i?void 0:null,firstItem:l?void 0:null,lastItem:l?void 0:null,prevItem:o?void 0:null,nextItem:o?void 0:null}))))}}]),a}(m.Component),oa=t(556),sa=t(553),ca=t(565),ma=t(554),da=t(562),ua=t(557),pa=t(92),ha=t.n(pa),ga=localStorage.token,fa=function(e){function a(e){var t;return Object(h.a)(this,a),(t=Object(f.a)(this,Object(E.a)(a).call(this,e))).showConfirm=function(){return t.setState({openConfirm:!0})},t.closeConfirm=function(){return t.setState({openConfirm:!1})},t.showCancel=function(){return t.setState({openCancel:!0})},t.closeCancel=function(){return t.setState({openCancel:!1})},t.showComplete=function(){return t.setState({openComplete:!0})},t.closeComplete=function(){return t.setState({openComplete:!1})},t.showAccept=function(){return t.setState({openAccept:!0})},t.closeAccept=function(){return t.setState({openAccept:!1})},t.showReject=function(){return t.setState({openReject:!0})},t.closeReject=function(){return t.setState({openReject:!1})},t.handleCancel=function(){t.setState({isSubmittingCancel:!0,openCancel:!1}),T()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/cancel"),method:"patch",headers:{"auth-token":ga},data:{status:"cancelled"}}).then(function(e){t.setState({isSubmittingCancel:!1}),window.location.reload()}).catch(function(e){return console.log(e.response)})},t.handleConfirm=function(){t.setState({isSubmittingConfirm:!0,openConfirm:!1}),T()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/confirm"),method:"patch",headers:{"auth-token":ga},data:{status:"confirmed"}}).then(function(e){t.setState({isSubmittingConfirm:!1}),window.location.reload()}).catch(function(e){return console.log(e.response)})},t.handleComplete=function(){t.setState({isSubmittingComplete:!0,openComplete:!1}),T()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/complete"),method:"patch",headers:{"auth-token":ga},data:{status:"delivered"}}).then(function(e){t.setState({isSubmittingComplete:!0}),window.location.reload()}).catch(function(e){return console.log(e)})},t.handleAccept=function(){t.setState({isSubmittingAccept:!0,openAccept:!1}),T()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/accept"),method:"patch",headers:{"auth-token":ga},data:{status:"in transit"}}).then(function(e){t.setState({isSubmittingAccept:!0}),window.location.reload()}).catch(function(e){return console.log(e)})},t.handleReject=function(){t.setState({isSubmittingReject:!0,openReject:!1}),T()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/reject"),method:"patch",headers:{"auth-token":ga},data:{riderId:null}}).then(function(e){t.setState({isSubmittingReject:!0}),window.location.href="/all"}).catch(function(e){return console.log(e.response.data)})},t.handleChange=function(e,a){var n=a.value;t.setState({rider:n})},t.handlePriceChange=function(e,a){var n=a.value;t.setState({price:n})},t.handlePriceSubmit=function(){t.setState({isSubmittingPrice:!0}),T()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/price"),method:"patch",headers:{"auth-token":ga},data:{price:t.state.price}}).then(function(e){t.setState({isSubmittingPrice:!1}),window.location.reload()}).catch(function(e){e.response&&e.response.data&&(o=e.response.data.error),t.setState({isSubmittingPrice:!1})})},t.handleSubmit=function(){t.setState({isSubmitting:!0}),T()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/assign"),method:"patch",headers:{"auth-token":ga},data:{riderId:t.state.rider}}).then(function(e){t.setState({isSubmitting:!1}),window.location.reload()}).catch(function(e){e.response&&e.response.data&&"No values provided for riderId"===e.response.data.error&&(l="No rider selected"),t.setState({isSubmitting:!1})})},t.state={rider:"",price:"",isSubmittingPrice:!1,isSubmittingConfirm:!1,isSubmittingComplete:!1,isSubmittingCancel:!1,isSubmittingAccept:!1,isSubmittingReject:!1,isSubmitting:!1,openConfirm:!1,openCancel:!1,openComplete:!1,openAccept:!1,openReject:!1},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this.state,a=e.openCancel,t=e.openComplete,n=e.openConfirm,r=e.openAccept,i=e.openReject,s=e.isSubmittingCancel,c=e.isSubmittingComplete,m=e.isSubmittingConfirm,u=e.isSubmittingAccept,p=e.isSubmittingReject,h=ha.a.map(this.props.riders,function(e){return{key:e.id,text:"".concat(e.firstName," ").concat(e.lastName),value:e.id}});return d.a.createElement(d.a.Fragment,null,this.props.order&&d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},d.a.createElement(X.a,{as:"h3",dividing:!0,content:"Order Details",subheader:this.props.order.id}),d.a.createElement(Pe.a,{stackable:!0,columns:3},d.a.createElement(Pe.a.Column,null,"Item Description",d.a.createElement(B.a,{color:"black"},this.props.order.itemDescription)),d.a.createElement(Pe.a.Column,null,"Status",d.a.createElement(B.a,{textAlign:"center",color:"processing"===this.props.order.status?"blue":"confirmed"===this.props.order.status?"orange":"in transit"===this.props.order.status?"teal":"delivered"===this.props.order.status?"green":"black",inverted:!0},ha.a.capitalize(this.props.order.status))),d.a.createElement(Pe.a.Column,null,"Date Ordered",d.a.createElement(B.a,{textAlign:"right"},new Date(this.props.order.createdAt).toDateString())),"admin"!==this.props.user.userRole?null:"cancelled"===this.props.order.status||"delivered"===this.props.order.status?null:d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},d.a.createElement(B.a,{color:"black",style:{marginBottom:"1rem"}},d.a.createElement(oa.a,{onSubmit:this.handlePriceSubmit},d.a.createElement(oa.a.Group,{inline:!0},d.a.createElement("label",null,"Adjust the order price to"),d.a.createElement(sa.a,{onChange:this.handlePriceChange,labelPosition:"right",type:"number",placeholder:"Enter New Price"},d.a.createElement("input",null)),d.a.createElement(W.a,{loading:this.state.isSubmittingPrice,type:"submit",style:{},primary:!0},"Change Price"))))),o&&d.a.createElement("div",{style:{marginBottom:"1em",display:"flex",justifyContent:"center",width:"100%"}},d.a.createElement(Z.a,{error:!0,header:"Action Forbidden",content:o})),o=void 0),"pay on pickup"!==this.props.order.paymentStatus&&"pay on delivery"!==this.props.order.paymentStatus?null:d.a.createElement(Pe.a.Column,{textAlign:"center",width:8},d.a.createElement(B.a,{textAlign:"center",className:"dmx-color",inverted:!0},d.a.createElement(ca.a,{size:"tiny",className:"dmx-color",inverted:!0},d.a.createElement(ca.a.Value,null,"\u20a6",this.props.order.price),d.a.createElement(ca.a.Label,null,"Price")))),"pay on pickup"!==this.props.order.paymentStatus&&"pay on delivery"!==this.props.order.paymentStatus?null:d.a.createElement(Pe.a.Column,{textAlign:"center",width:8},d.a.createElement(B.a,{textAlign:"center",inverted:!0},d.a.createElement(ca.a,{size:"tiny",inverted:!0},d.a.createElement(ca.a.Value,null,ha.a.upperCase(this.props.order.paymentStatus)),d.a.createElement(ca.a.Label,null,"Payment Method")))),"admin"!==this.props.user.userRole?null:this.props.order.rider?null:"confirmed"!==this.props.order.status?null:d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},d.a.createElement(B.a,{color:"teal",style:{marginBottom:"1rem"}},d.a.createElement(oa.a,{onSubmit:this.handleSubmit},d.a.createElement(oa.a.Group,{inline:!0},d.a.createElement(oa.a.Field,{inline:!0,control:ma.a,onChange:this.handleChange,label:"Assign this order to \xa0",placeholder:"Select a Rider",options:h}),d.a.createElement(W.a,{loading:this.state.isSubmitting,type:"submit",style:{marginLeft:"1rem"},primary:!0},"Assign"))))),l&&d.a.createElement("div",{style:{marginBottom:"1em",margin:"0 auto"}},d.a.createElement(Z.a,{error:!0,header:"Action Forbidden",content:l})),l=void 0),this.props.order.rider&&d.a.createElement(Z.a,{info:!0,icon:"bicycle",header:"rider"===this.props.user.userRole?"This package has been assigned to you":"This package will be delivered by ".concat(this.props.order.rider.firstName," ").concat(this.props.order.rider.lastName),content:"rider"===this.props.user.userRole?"You will find details of the pickup and delivery below.":"You can get through to him on this number ".concat(this.props.order.rider.phoneNumber)}),d.a.createElement(Pe.a.Column,{textAlign:"center",width:8},d.a.createElement(da.a,{fluid:!0},d.a.createElement(da.a.Content,{header:ha.a.upperFirst(this.props.order.senderName)}),d.a.createElement(da.a.Content,{meta:d.a.createElement("span",null,d.a.createElement(_.a,{name:"phone"})," ",this.props.order.senderPhone)}),d.a.createElement(da.a.Content,{description:d.a.createElement(d.a.Fragment,null,d.a.createElement(_.a,{name:"map marker alternate"})," ",this.props.order.senderAddress)})),d.a.createElement(me.a,{size:"tiny",attached:"top left"},d.a.createElement(_.a,{name:"truck"})," Pick Up Details")),d.a.createElement(Pe.a.Column,{textAlign:"center",width:8},d.a.createElement(da.a,{fluid:!0},d.a.createElement(da.a.Content,{header:ha.a.upperFirst(this.props.order.recipientName)}),d.a.createElement(da.a.Content,{meta:d.a.createElement("span",null,d.a.createElement(_.a,{name:"phone"})," ",this.props.order.recipientPhone)}),d.a.createElement(da.a.Content,{description:d.a.createElement(d.a.Fragment,null,d.a.createElement(_.a,{name:"map marker alternate"})," ",this.props.order.recipientAddress)})),d.a.createElement(me.a,{size:"tiny",attached:"top left"},d.a.createElement(_.a,{name:"truck"})," Delivery Details")),d.a.createElement(Pe.a.Row,{centered:!0,columns:2},d.a.createElement(Pe.a.Column,null,d.a.createElement(W.a.Group,{fluid:!0},"rider"===this.props.user.userRole?null:"delivered"===this.props.order.status||"cancelled"===this.props.order.status?null:d.a.createElement(d.a.Fragment,null,d.a.createElement(W.a,{loading:s,secondary:!0,onClick:this.showCancel},"Cancel")),"rider"!==this.props.user.userRole?null:this.props.order.rider?"delivered"===this.props.order.status||"cancelled"===this.props.order.status||"in transit"===this.props.order.status?null:d.a.createElement(d.a.Fragment,null,d.a.createElement(W.a,{loading:p,secondary:!0,onClick:this.showReject},"Reject")):null,"processing"!==this.props.order.status?null:"personal"===this.props.user.userRole?null:d.a.createElement(d.a.Fragment,null,d.a.createElement(W.a.Or,null),d.a.createElement(W.a,{loading:m,positive:!0,onClick:this.showConfirm},"Confirm")),"rider"!==this.props.user.userRole?null:this.props.order.rider?"delivered"===this.props.order.status||"cancelled"===this.props.order.status||"in transit"===this.props.order.status?null:d.a.createElement(d.a.Fragment,null,d.a.createElement(W.a.Or,null),d.a.createElement(W.a,{loading:u,positive:!0,onClick:this.showAccept},"Accept")):null,"personal"===this.props.user.userRole||"business"===this.props.user.userRole?null:"processing"===this.props.order.status||"cancelled"===this.props.order.status||"delivered"===this.props.order.status?null:d.a.createElement(d.a.Fragment,null,d.a.createElement(W.a.Or,null),d.a.createElement(W.a,{loading:c,primary:!0,onClick:this.showComplete},"Delivered"))))))),d.a.createElement("div",null,d.a.createElement(ua.a,{style:{height:"unset",left:"unset",top:"unset"},open:n,onCancel:this.closeConfirm,cancelButton:"Never Mind",confirmButton:"Yes, Please",onConfirm:this.handleConfirm,content:"Are you sure you want to confirm this Order?"}),d.a.createElement(ua.a,{style:{height:"unset",left:"unset",top:"unset"},open:t,onCancel:this.closeComplete,onConfirm:this.handleComplete,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to mark this order as delivered?"}),d.a.createElement(ua.a,{style:{height:"unset",left:"unset",top:"unset"},open:a,onConfirm:this.handleCancel,onCancel:this.closeCancel,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to cancel this order?"}),d.a.createElement(ua.a,{style:{height:"unset",left:"unset",top:"unset"},open:r,onConfirm:this.handleAccept,onCancel:this.closeAccept,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to accept this assignment?"}),d.a.createElement(ua.a,{style:{height:"unset",left:"unset",top:"unset"},open:i,onConfirm:this.handleReject,onCancel:this.closeReject,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to reject this assignment?"})))}}]),a}(d.a.Component),Ea=ae.object().shape({firstName:ae.string().min(2,"First name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters").required("First name is required"),lastName:ae.string().min(2,"Last name cannot be less than 2 characters").max(50,"Last name provided is too long. Please provide in the range of 2 - 50 characters").required("Last name is required"),phoneNumber:ae.string().required("Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),address:ae.string().max(280,"Address provided too long")}),va=function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={address:t.props.user.address},t.handleScriptLoad=function(){var e=window.google,a={types:["geocode","establishment"],bounds:new e.maps.LatLngBounds(new e.maps.LatLng(6.5244,3.3792),new e.maps.LatLng(9.0765,7.3986)),fields:["address_components","formatted_address","name","geometry"]};t.autocomplete=new e.maps.places.Autocomplete(document.getElementById("address"),a),t.autocomplete.addListener("place_changed",t.handlePlaceSelect)},t.handlePlaceSelect=function(){var e=t.autocomplete.getPlace(),a={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};console.log(a),t.setState({address:"".concat(e.formatted_address)})},t.handleChange=function(e){return function(a){t.setState(Object(O.a)({},e,a.target.value))}},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},d.a.createElement(X.a,{as:"h3",dividing:!0},"My Profile"),d.a.createElement(Pe.a,{stackable:!0,columns:3},d.a.createElement(Pe.a.Column,{textAlign:"center",width:8},d.a.createElement(da.a,{fluid:!0},d.a.createElement(da.a.Content,{header:"".concat(this.props.user.firstName," ").concat(this.props.user.lastName)}),d.a.createElement(da.a.Content,{meta:d.a.createElement("span",null,d.a.createElement(_.a,{name:"phone"})," ",this.props.user.phoneNumber)}),d.a.createElement(da.a.Content,{description:d.a.createElement(d.a.Fragment,null,d.a.createElement(_.a,{name:"map marker alternate"}),this.props.user.address)})))),d.a.createElement(X.a,{as:"h3",dividing:!0},"Update Profile"),d.a.createElement(ee.d,{initialValues:{firstName:this.props.user.firstName||"",lastName:this.props.user.lastName||"",phoneNumber:this.props.user.phoneNumber||""},onSubmit:function(a,t){var n,r,i=localStorage.token;i&&(n=K()(i)),n&&(r=n.userId);var l=e.state.address;T()({method:"put",url:"https://dmx-backend.herokuapp.com/api/v1/users/".concat(r,"/profile"),data:Object(j.a)({},a,{address:l}),headers:{"auth-token":i}}).then(function(a){c="Profile Updated successfully",console.log(c),e.props.updateState({user:a.data.data}),setTimeout(function(){window.location.reload()},3e3)}).catch(function(e){console.log(e),s=e.response.data}).then(function(){return t.setSubmitting(!1)})},validationSchema:function(){return Ea}},function(a){var t=a.errors,n=a.touched,r=a.isSubmitting;return d.a.createElement(d.a.Fragment,null,d.a.createElement(Se.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBGFjD-GUhv7z3uj8KjNM91c2q0ivWnecg&libraries=places",onLoad:e.handleScriptLoad}),d.a.createElement(ee.c,{className:s?"ui form new error":c?"ui form new success":"ui form new"},d.a.createElement("div",{className:"equal width fields"},d.a.createElement("div",{className:t.firstName&&n.firstName?"field error":"field"},d.a.createElement("label",null,"First Name",d.a.createElement(ee.b,{type:"text",name:"firstName",placeholder:"Olawale"}),d.a.createElement(ee.a,{name:"firstName",component:"div"}))),d.a.createElement("div",{className:t.lastName&&n.lastName?"field error":"field"},d.a.createElement("label",null,"Last Name",d.a.createElement(ee.b,{type:"text",name:"lastName",placeholder:"Chinedu"}),d.a.createElement(ee.a,{name:"lastName",component:"div"}))),d.a.createElement("div",{className:t.phoneNumber&&n.phoneNumber?"field error":"field"},d.a.createElement("label",null,"Phone Number",d.a.createElement(ee.b,{type:"text",name:"phoneNumber",placeholder:"08031234567/+234708123456"}),d.a.createElement(ee.a,{name:"phoneNumber",component:"div"})))),d.a.createElement("div",{className:t.address&&n.address?"field error":"field"},d.a.createElement("label",null,"Address",d.a.createElement(ee.b,{value:e.state.address,id:"address",name:"address",onChange:e.handleChange("address"),placeholder:"Your preffered address for pick up or delivery"}))),d.a.createElement("div",{style:{marginBottom:"1em"}},s&&d.a.createElement(Z.a,{error:!0,header:"Action Forbidden",content:s.error}),c&&d.a.createElement(Z.a,{success:!0,header:c})),d.a.createElement(W.a,{loading:r,className:"dmx-color"},"Save Profile")))}))}}]),a}(d.a.Component);var ba=function(e){var a=e.component,t=Object(ie.a)(e,["component"]);return d.a.createElement(R.a,Object.assign({},t,{render:function(e){return J.isAuthenticated()?d.a.createElement(a,e):d.a.createElement(L.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ya=t(197),Sa=function(e){function a(e){var t;return Object(h.a)(this,a),(t=Object(f.a)(this,Object(E.a)(a).call(this,e))).updateState=function(e){t.setState(Object(j.a)({},e))},t.orderBy=function(e,a){e.preventDefault(),e.persist();var n=e.target.dataset.name;t.state.ordered[n]?"price"===n?t.setState({orders:a.sort(function(e,a){return Number(e[n])<Number(a[n])?-1:1}),ordered:Object(j.a)({},t.state.ordered,Object(O.a)({},n,!1))}):t.setState({orders:a.sort(function(e,a){return e[n]<a[n]?-1:1}),ordered:Object(j.a)({},t.state.ordered,Object(O.a)({},n,!1))}):"price"===n?t.setState({orders:a.sort(function(e,a){return Number(e[n])>Number(a[n])?-1:1}),ordered:Object(j.a)({},t.state.ordered,Object(O.a)({},n,!0))}):t.setState({orders:a.sort(function(e,a){return e[n]>a[n]?-1:1}),ordered:Object(j.a)({},t.state.ordered,Object(O.a)({},n,!0))})},t.handlePaginationChange=function(e){t.setState({isLoading:!0});var a=localStorage.token;T()({headers:{"auth-token":a},url:"https://dmx-backend.herokuapp.com/api/v1/orders?page=".concat(e)}).then(function(a){t.setState({isLoading:!1,orders:a.data.data.rows.sort(function(e,a){return e.id>a.id?-1:1}),activePage:e,totalPages:a.data.data.count})}).catch(function(e){return console.log(e.response)})},t.state={isLoading:!1,orders:[],user:{address:"hello"},riders:[],ordered:{id:!1,status:!1,date:!1,price:!1},activePage:1,totalPages:1},t}return Object(v.a)(a,e),Object(g.a)(a,[{key:"componentDidMount",value:function(){var e,a,t,n=this,r=localStorage.token;r&&(e=K()(r)),e&&(a=e.userId),e&&(t=e.userRole),a&&this.setState({isLoading:!0}),"admin"===t&&T()({url:"https://dmx-backend.herokuapp.com/api/v1/users/".concat(a,"/riders"),headers:{"auth-token":r}}).then(function(e){n.setState({riders:e.data.data})}).catch(function(e){return console.log(e.response)});a&&T.a.all([T()({headers:{"auth-token":r},url:"https://dmx-backend.herokuapp.com/api/v1/orders?page=".concat(n.state.activePage)}),T()({headers:{"auth-token":r},url:"https://dmx-backend.herokuapp.com/api/v1/users/".concat(a)})]).then(T.a.spread(function(e,a){n.setState({isLoading:!1,user:a.data.data,orders:e.data.data.rows.sort(function(e,a){return e.id>a.id?-1:1}),totalPages:e.data.data.count})})).catch(function(e){console.log(e.response),n.setState({isLoading:!1})})}},{key:"render",value:function(){var e=this,a=this.state.orders.filter(function(e){return"delivered"!==e.status&&"cancelled"!==e.status}),t=this.state.orders.filter(function(e){return"delivered"===e.status});return this.state.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement(I.a.Dimmable,{style:{minHeight:"100vh"},as:B.a,dimmed:!0},d.a.createElement(I.a,{active:!0,inverted:!0},d.a.createElement(F.a,null,"Loading")),d.a.createElement(Q,{history:this.props.history,location:this.props.location,user:this.state.user}),d.a.createElement(ue,null))):d.a.createElement("div",null,d.a.createElement(Q,{history:this.props.history,location:this.props.location,user:this.state.user}),d.a.createElement(ue,{user:this.state.user}),d.a.createElement(ya.TransitionGroup,null,d.a.createElement(ya.CSSTransition,{key:this.props.location.key,classNames:"page",timeout:300},d.a.createElement(A.a,null,d.a.createElement(R.a,{path:"/login",component:ne}),d.a.createElement(R.a,{path:"/register",component:se}),d.a.createElement(ba,{exact:!0,path:"/",component:function(){return d.a.createElement(la,Object.assign({},e.props,{user:e.state.user,orders:e.state.orders,orderBy:e.orderBy,updateState:e.updateState},e.props,{count:e.state.totalPages,handlePaginationChange:e.handlePaginationChange,activePage:e.state.activePage}))}}),d.a.createElement(ba,{exact:!0,path:"/all",component:function(){return d.a.createElement(la,Object.assign({},e.props,{user:e.state.user,orders:e.state.orders,orderBy:e.orderBy,updateState:e.updateState},e.props,{count:e.state.totalPages,handlePaginationChange:e.handlePaginationChange,activePage:e.state.activePage}))}}),d.a.createElement(ba,{exact:!0,path:"/current",component:function(){return d.a.createElement(fe,Object.assign({},e.props,{user:e.state.user,orders:a,orderBy:e.orderBy}))}}),d.a.createElement(ba,{exact:!0,path:"/completed",component:function(){return d.a.createElement(Ee,Object.assign({},e.props,{user:e.state.user,orders:t,orderBy:e.orderBy}))}}),d.a.createElement(ba,{exact:!0,path:"/new",component:function(){return d.a.createElement(ra,Object.assign({},e.props,{user:e.state.user}))}}),d.a.createElement(ba,{path:"/orders/:orderId",component:function(a){var t=a.match;return d.a.createElement(fa,{user:e.state.user,riders:e.state.riders,order:e.state.orders.filter(function(e){return e.id===Number(t.params.orderId)})[0]})}}),d.a.createElement(ba,{exact:!0,path:"/profile",component:function(){return d.a.createElement(va,Object.assign({updateState:e.updateState},e.props,{user:e.state.user}))}}),d.a.createElement(ba,{exact:!0,path:"/new-rider",component:be}),d.a.createElement(R.a,{path:"/404",component:re}),d.a.createElement(L.a,{to:"/404"})))))}}]),a}(m.Component),Na=Object(D.a)(Sa),wa=(t(539),Object(S.d)(Object(S.c)({orders:x,users:P}),Object(S.a)(N.a,C.a))),Ca=function(e){function a(){return Object(h.a)(this,a),Object(f.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return d.a.createElement(y.a,{store:wa},d.a.createElement(b.a,{basename:"/dmx-logistics-front-end"},d.a.createElement("div",null,d.a.createElement(Na,null))))}}]),a}(m.Component),ka=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ja(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}p.a.render(d.a.createElement(Ca,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dmx-logistics-front-end",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("/dmx-logistics-front-end","/service-worker.js");ka?(function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ja(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ja(a,e)})}}()}},[[320,1,2]]]);
//# sourceMappingURL=main.7ac71d55.chunk.js.map