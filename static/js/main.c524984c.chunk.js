(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{295:function(e,a){e.exports=[{name:"obalende lagos",lat:"6.4483221",lng:"3.410724",region:"island1"},{name:"bonny camp st lagos",lat:"6.4361901",lng:"3.406208",region:"island1"},{name:"Lagos Island",lat:"6.454879099999999",lng:"3.4245984",region:"island1"},{name:"ikoyi lagos",lat:"6.449999999999999",lng:"3.433333",region:"island1"}]},296:function(e,a){e.exports=[{name:"water carrington",lat:"6.439084299999999",lng:"3.4088352",region:"island2"},{name:"oniru",lat:"6.446787899999999",lng:"3.4340729",region:"island2"},{name:"oriental hotel",lat:"6.4359103",lng:"3.4444084",region:"island2"},{name:"victoria Island",lat:"6.4280556",lng:"3.4219444",region:"island2"},{name:"kofo abayomi",lat:"6.4354083",lng:"3.4165214",region:"island2"},{name:"ahmadu bello",lat:"6.4299825",lng:"3.4088873",region:"island2"},{name:"eko hotel",lat:"6.426495",lng:"3.4307474",region:"island2"},{name:"ligali",lat:"6.4300638",lng:"3.4410854",region:"island2"}]},318:function(e,a,t){e.exports=t(536)},323:function(e,a,t){},535:function(e,a,t){},536:function(e,a,t){"use strict";t.r(a);var n,r,l,i,o,s,c=t(0),m=t.n(c),d=t(43),u=t.n(d),p=(t(323),t(324),t(325),t(17)),h=t(18),g=t(20),E=t(19),f=t(21),v=t(567),b=t(306),y=t(88),S=t(276),w=t(277),C=t.n(w),N=t(153),k=t(29),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,orders:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_ORDERS":return Object(k.a)({},e,{isLoading:!1,errMess:null,orders:a.payload});case"ORDERS_LOADING":return Object(k.a)({},e,{isLoading:!0,errMess:null,orders:[]});case"ORDERS_FAILED":return Object(k.a)({},e,{isLoading:!1,errMess:a.payload,orders:[]});case"CREATE_ORDER":case"CANCEL_ORDER":case"CONFIRM_ORDER":return Object(k.a)({},e,{isLoading:!1,errMess:null,orders:[].concat(Object(N.a)(e.orders.filter(function(e){return e.id!==a.payload.id})),[a.payload])});default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,user:{}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOAD_USER":return Object(k.a)({},e,{isLoading:!1,errMess:null,user:a.payload});case"USER_LOADING":return Object(k.a)({},e,{isLoading:!0,errMess:null,user:{}});case"USER_FAILED":return Object(k.a)({},e,{isLoading:!1,errMess:a.payload,user:{}});case"UPDATE_PROFILE":return Object(k.a)({},e,{isLoading:!1,errMess:null,user:a.payload});default:return e}},A=t(568),O=t(283),P=t(564),D=t(570),R=t(563),L=t(566),I=t(550),q=t(25),F=t.n(q),B=t(54),_=t(553),T=t(560),M=t(546),H=t(307),z=t(105),U=t(537),G=t(192),V=t(547),W=t(62),Y=t.n(W),$={isAuthenticated:function(){var e=localStorage.token;if(!e)return!1;var a=Y()(e);return!!(a&&a.userId&&a.userRole&&a.iat&&a.exp)&&a.exp>Date.now()/1e3},signout:function(e){localStorage.clear(),e()}},K=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).trigger=m.a.createElement("span",null,m.a.createElement(B.a,{name:"user"})," Hello, ",t.props.user.firstName),t.options=[{key:"user",text:m.a.createElement("span",null,"Call us on ",m.a.createElement("strong",null,"08091234567")),disabled:!0},{key:"profile",text:m.a.createElement(G.a,{as:"a",to:"/profile",style:{color:"black",padding:0}},"My Profile")},{key:"faq",text:m.a.createElement(G.a,{as:"a",to:"/faq",style:{color:"black",padding:0}},"FAQ")},{key:"how-to-pay",text:m.a.createElement(G.a,{as:"a",to:"/how-to-pay",style:{color:"black",padding:0}},"How to Pay")},{key:"contact",text:m.a.createElement(G.a,{as:"a",to:"/contact",style:{color:"black",padding:0}},"Contact Us")},{key:"number",text:t.props.user.phoneNumber,disabled:!0},{key:"sign-out",text:m.a.createElement(_.a,{as:"a",style:{color:"black",padding:0},onClick:function(){return $.signout(function(){return t.props.history.push("/login")})}},"Sign Out")}],t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return console.log(),m.a.createElement(m.a.Fragment,null,m.a.createElement(T.a,{fixed:"top",inverted:!0},m.a.createElement(M.a,{fluid:!0},m.a.createElement(V.a,{to:"/"},m.a.createElement(T.a.Item,{header:!0},m.a.createElement(H.a,{size:"tiny",src:"./dmx-logo.jpg",style:{marginRight:"1em"}}))),m.a.createElement(T.a.Menu,{position:"right"},$.isAuthenticated()?m.a.createElement(z.a,{item:!0,trigger:this.trigger,options:this.options}):m.a.createElement(m.a.Fragment,null,"/login"===this.props.location.pathname&&m.a.createElement(T.a.Item,null,m.a.createElement(G.a,{to:"/register"}," ",m.a.createElement(U.a,{color:"green"},"Sign up"))),"/register"===this.props.location.pathname&&m.a.createElement(T.a.Item,null,m.a.createElement(G.a,{to:"/login"}," ",m.a.createElement(U.a,null,"Log-in")," ")))))))}}]),a}(c.Component),J=t(562),Q=t(557),X=t(8),Z=t(15),ee=Z.object().shape({email:Z.string().required("Email address is required to login").email("Please provide a valid email address"),password:Z.string().required("Password is required").min(6,"Password must be at least 6 characters long").max(64,"Password too long!")}),ae=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this,a=(this.props.location.state||{from:{pathname:"/all"}}).from;return this.state.redirectToReferrer?m.a.createElement(P.a,{to:{pathname:a.pathname,state:{message:"Logged in Successfully"}}}):(localStorage.clear(),m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",marginTop:"5em"}},m.a.createElement("div",null,m.a.createElement(J.a,{as:"h2",textAlign:"center",dividing:!0},"Login "),m.a.createElement(X.d,{initialValues:{email:"",password:""},onSubmit:function(a,t){F.a.post("https://dmx-backend.herokuapp.com/api/v1/auth/login",a).then(function(a){n=void 0,localStorage.setItem("token",a.data.token),e.setState({redirectToReferrer:!0})}).catch(function(e){console.log(e),e.response&&(n=e.response.data)}).then(function(){return t.setSubmitting(!1)})},validationSchema:function(){return ee}},function(e){var a=e.errors,t=e.touched,r=(e.values,e.isSubmitting);return m.a.createElement(X.c,{className:n?"ui form new error":"ui form new"},m.a.createElement("div",{className:"two fields"},m.a.createElement("div",{className:a.email&&t.email?"field error":"field"},m.a.createElement("label",null,"Email",m.a.createElement(X.b,{type:"email",name:"email",placeholder:"abc@xyz.com"}),m.a.createElement(X.a,{name:"email",component:"div"}))),m.a.createElement("div",{className:a.password&&t.password?"field error":"field"},m.a.createElement("label",null,"Password",m.a.createElement(X.b,{type:"password",name:"password",placeholder:"********"}),m.a.createElement(X.a,{name:"password",component:"div"})))),m.a.createElement("div",{style:{marginBottom:"1em"}},n&&m.a.createElement(Q.a,{error:!0,header:"Action Forbidden",content:n.error})),m.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},m.a.createElement(U.a,{loading:r,type:"submit",className:"dmx-color"},"Login")))}))))}}]),a}(c.Component),te=function(){return m.a.createElement("div",{style:{minHeight:"calc(100vh - 5em)",marginTop:"-5em",display:"flex",flexDirection:"column",marginLeft:"2em",alignItems:"center",justifyContent:"center"}},m.a.createElement(J.a,{as:"h2",icon:!0,textAlign:"center"},m.a.createElement(B.a,{name:"x",circular:!0}),m.a.createElement(J.a.Content,null,"Page Not Found")),m.a.createElement(V.a,{to:"/all"},m.a.createElement(U.a,{className:"dmx-color"},"Go Back to Home Page")))},ne=t(149),re=Z.object().shape({firstName:Z.string().min(2,"First name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters").required("First name is required"),lastName:Z.string().min(2,"Last name cannot be less than 2 characters").max(50,"Last name provided is too long. Please provide in the range of 2 - 50 characters").required("Last name is required"),email:Z.string().required("Email address is required to register").email("Please provide a valid email address"),phoneNumber:Z.string().required("Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),password:Z.string().required("Password is required").min(6,"Password must be at least 6 characters long").max(64,"Password too long!"),confirmPassword:Z.string().oneOf([Z.ref("password"),null],"Passwords must match"),businessName:Z.string().min(2,"Business name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters")}),le=function(e){var a=e.field,t=a.name,n=a.value,r=a.onChange,l=a.onBlur,i=e.id,o=e.label,s=(e.className,Object(ne.a)(e,["field","id","label","className"]));return m.a.createElement("div",null,m.a.createElement("input",Object.assign({name:t,id:i,type:"radio",value:i,checked:i===n,onChange:r,onBlur:l},s)),m.a.createElement("label",{htmlFor:i},o))},ie=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e,a=this,t=(this.props.location.state||{from:{pathname:"/all"}}).from;return this.state.redirectToReferrer?m.a.createElement(P.a,{to:{pathname:t.pathname,state:{message:"Registered successfully"}}}):m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",minHeight:"100vh",justifyContent:"center",alignItems:"center",marginTop:"-2em"}},m.a.createElement("div",null,m.a.createElement(J.a,{as:"h2",textAlign:"center",dividing:!0},"Register "),m.a.createElement(X.d,{initialValues:{firstName:"",lastName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",businessName:"",userRole:"personal"},onSubmit:function(t,n){F.a.post("https://dmx-backend.herokuapp.com/api/v1/auth/signup",t).then(function(t){e=void 0,localStorage.setItem("token",t.data.token),a.setState({redirectToReferrer:!0})}).catch(function(a){console.log(a),e=a.response.data}).then(function(){return n.setSubmitting(!1)})},validationSchema:function(){return re}},function(a){var t=a.errors,n=a.touched,r=a.values,l=a.isSubmitting;return m.a.createElement(X.c,{className:e?"ui form new error":"ui form new"},m.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},m.a.createElement("div",{style:{marginTop:"0"},className:"ui compact segment black"},m.a.createElement("div",{className:"ui toggle checkbox"},m.a.createElement(X.b,{component:le,name:"userRole",id:"business",label:"Business"}))),m.a.createElement("div",{style:{marginTop:"0"},className:"ui compact segment black"},m.a.createElement("div",{className:"ui toggle checkbox"},m.a.createElement(X.b,{component:le,name:"userRole",id:"personal",label:"Personal"})))),m.a.createElement("div",{className:"two fields"},m.a.createElement("div",{className:t.firstName&&n.firstName?"field error":"field"},m.a.createElement("label",null,"First Name",m.a.createElement(X.b,{type:"text",name:"firstName",placeholder:"Olawale"}),m.a.createElement(X.a,{name:"firstName",component:"div"}))),m.a.createElement("div",{className:t.lastName&&n.lastName?"field error":"field"},m.a.createElement("label",null,"Last Name",m.a.createElement(X.b,{type:"text",name:"lastName",placeholder:"Chinedu"}),m.a.createElement(X.a,{name:"lastName",component:"div"})))),m.a.createElement("div",{className:"two fields"},m.a.createElement("div",{className:t.email&&n.email?"field error":"field"},m.a.createElement("label",null,"Email",m.a.createElement(X.b,{type:"email",name:"email",placeholder:"abc@xyz.com"}),m.a.createElement(X.a,{name:"email",component:"div"}))),m.a.createElement("div",{className:t.phoneNumber&&n.phoneNumber?"field error":"field"},m.a.createElement("label",null,"Phone Number",m.a.createElement(X.b,{type:"text",name:"phoneNumber",placeholder:"08031234567/+234708123456"}),m.a.createElement(X.a,{name:"phoneNumber",component:"div"})))),m.a.createElement("div",{className:"two fields"},m.a.createElement("div",{className:t.password&&n.password?"field error":"field"},m.a.createElement("label",null,"Password",m.a.createElement(X.b,{type:"password",name:"password",placeholder:"********"}),m.a.createElement(X.a,{name:"password",component:"div"}))),m.a.createElement("div",{className:t.confirmPassword&&n.confirmPassword?"field error":"field"},m.a.createElement("label",null,"Confirm Password",m.a.createElement(X.b,{type:"password",name:"confirmPassword",placeholder:"********"}),m.a.createElement(X.a,{name:"confirmPassword",component:"div"})))),m.a.createElement("div",null," ","business"===r.userRole&&m.a.createElement("div",{className:t.businessName&&n.businessName?"field error":"field"},m.a.createElement("label",null,"Business Name",m.a.createElement(X.b,{name:"businessName",placeholder:"Almond Clothiers"}),m.a.createElement(X.a,{name:"businessName",component:"div"})))," "),m.a.createElement("div",{style:{marginBottom:"1em"}},e&&m.a.createElement(Q.a,{error:!0,header:"Action Forbidden",content:e.error}),void 0),m.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},m.a.createElement(U.a,{loading:l,type:"submit",className:"dmx-color"},"Sign Up")))})))}}]),a}(c.Component),oe=t(138),se=t(104),ce=t(558),me=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(g.a)(this,Object(E.a)(a).call(this,e))).state={isNavOpen:!1},t.toggleNav=t.toggleNav.bind(Object(oe.a)(t)),t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen}),console.log(this.state.isNavOpen)}},{key:"render",value:function(){var e,a,t=localStorage.token;return t&&(e=Y()(t)),e&&(a=e.userRole),m.a.createElement("div",{fixed:"top",style:{paddingTop:"3.8em"}},m.a.createElement(ce.a,{id:"sidebar",isOpen:this.state.isNavOpen},m.a.createElement(T.a,{vertical:!0,inverted:!0,className:" sidebar-menu dmx-color"},$.isAuthenticated()&&"rider"!==a&&"admin"!==a&&m.a.createElement(V.a,{className:"item",to:"/new"},m.a.createElement(se.a,{color:"green"},"+"),"Request a delivery"),$.isAuthenticated()&&m.a.createElement(V.a,{className:"item",to:"/current"},"Active Orders"),$.isAuthenticated()&&m.a.createElement(V.a,{className:"item",to:"/completed"},"Delivered Orders"),$.isAuthenticated()&&m.a.createElement(V.a,{className:"item",to:"/all"},"All Orders"),$.isAuthenticated()&&"admin"!==a&&m.a.createElement(V.a,{className:"item",to:"/profile"},m.a.createElement(B.a,{name:"user circle"}),"My Profile"),$.isAuthenticated()&&"admin"===a&&m.a.createElement(V.a,{className:"item",to:"/new-rider"},m.a.createElement(B.a,{name:"bicycle"}),"Create Rider"))),m.a.createElement(B.a,{id:"mobile-menu",name:"bars",size:"big",onClick:this.toggleNav}))}}]),a}(c.Component),de=t(554),ue=function(e){var a=e.order;return m.a.createElement(m.a.Fragment,null,m.a.createElement(de.a.Cell,null,m.a.createElement(se.a,{color:"processing"===a.status?"blue":"confirmed"===a.status?"orange":"in transit"===a.status?"teal":"black",ribbon:!0},a.id)),m.a.createElement(de.a.Cell,null,m.a.createElement(se.a,{color:"black"},"\u20a6",Number(a.price))),m.a.createElement(de.a.Cell,null,new Date(a.createdAt).toDateString()),m.a.createElement(de.a.Cell,null,"processing"===a.status?m.a.createElement("p",null,m.a.createElement(B.a,{name:"wait"})," Processing"):"confirmed"===a.status?m.a.createElement("p",null,m.a.createElement(B.a,{name:"checkmark"})," Confirmed"):"in transit"===a.status?m.a.createElement("p",null,m.a.createElement(B.a,{name:"bicycle"})," In Transit"):m.a.createElement("p",null,m.a.createElement(B.a,{name:"x"})," Cancelled")),m.a.createElement(de.a.Cell,null,m.a.createElement(G.a,{to:"/orders/".concat(a.id)},m.a.createElement(U.a,{className:"dmx-color",animated:"vertical"},m.a.createElement(U.a.Content,{hidden:!0},"Detailed View"),m.a.createElement(U.a.Content,{visible:!0},"Show More")))))},pe=function(e){var a=e.orders.map(function(e){return m.a.createElement(de.a.Row,{key:e.id},m.a.createElement(ue,{order:e}))});return m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},m.a.createElement(J.a,{as:"h3",dividing:!0},"My Active Orders"),m.a.createElement(de.a,{celled:!0},m.a.createElement(de.a.Header,null,m.a.createElement(de.a.Row,null,m.a.createElement(de.a.HeaderCell,null,"Order Id"),m.a.createElement(de.a.HeaderCell,null,"Amount"),m.a.createElement(de.a.HeaderCell,null,"Date Ordered"),m.a.createElement(de.a.HeaderCell,null,"Status"),m.a.createElement(de.a.HeaderCell,null,"View Details"))),m.a.createElement(de.a.Body,null,a)))},he=function(e){var a=e.order;return m.a.createElement(m.a.Fragment,null,m.a.createElement(de.a.Cell,null,m.a.createElement(se.a,{color:"green",ribbon:!0},a.id)),m.a.createElement(de.a.Cell,null,m.a.createElement(se.a,{color:"black"},"\u20a6",Number(a.price))),m.a.createElement(de.a.Cell,null,new Date(a.createdAt).toDateString()),m.a.createElement(de.a.Cell,null,m.a.createElement("p",null,m.a.createElement(B.a,{name:"checkmark"})," Delivered")),m.a.createElement(de.a.Cell,null,m.a.createElement(G.a,{to:"/orders/".concat(a.id)},m.a.createElement(U.a,{className:"dmx-color",animated:"vertical"},m.a.createElement(U.a.Content,{hidden:!0},"Detailed View"),m.a.createElement(U.a.Content,{visible:!0},"Show More")))))},ge=function(e){var a=e.orders.map(function(e){return m.a.createElement(de.a.Row,{key:e.id},m.a.createElement(he,{order:e}))});return m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},m.a.createElement(J.a,{as:"h3",dividing:!0},"My Active Orders"),m.a.createElement(de.a,{celled:!0},m.a.createElement(de.a.Header,null,m.a.createElement(de.a.Row,null,m.a.createElement(de.a.HeaderCell,null,"Order Id"),m.a.createElement(de.a.HeaderCell,null,"Amount"),m.a.createElement(de.a.HeaderCell,null,"Date Ordered"),m.a.createElement(de.a.HeaderCell,null,"Status"),m.a.createElement(de.a.HeaderCell,null,"View Details"))),m.a.createElement(de.a.Body,null,a)))},Ee=Z.object().shape({firstName:Z.string().min(2,"First name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters").required("First name is required"),lastName:Z.string().min(2,"Last name cannot be less than 2 characters").max(50,"Last name provided is too long. Please provide in the range of 2 - 50 characters").required("Last name is required"),email:Z.string().required("Email address is required to register").email("Please provide a valid email address"),phoneNumber:Z.string().required("Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),password:Z.string().required("Password is required").min(6,"Password must be at least 6 characters long").max(64,"Password too long!"),confirmPassword:Z.string().oneOf([Z.ref("password"),null],"Passwords must match")}),fe=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e,a=this,t={pathname:"/all"};return this.state.redirectToReferrer?m.a.createElement(P.a,{to:{pathname:t.pathname,state:{message:"Registered Rider successfully"}}}):m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",minHeight:"100vh",justifyContent:"center",alignItems:"center",marginTop:"-2em"}},m.a.createElement("div",null,m.a.createElement(J.a,{as:"h2",textAlign:"center",dividing:!0},"Create Rider"),m.a.createElement(X.d,{initialValues:{firstName:"",lastName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",userRole:"rider"},onSubmit:function(t,n){F.a.post("https://dmx-backend.herokuapp.com/api/v1/auth/signup",t).then(function(t){e=void 0,a.setState({redirectToReferrer:!0})}).catch(function(a){console.log(a),e=a.response.data}).then(function(){return n.setSubmitting(!1)})},validationSchema:function(){return Ee}},function(a){var t=a.errors,n=a.touched,r=(a.values,a.isSubmitting);return m.a.createElement(X.c,{className:e?"ui form new error":"ui form new"},m.a.createElement("div",{className:"two fields"},m.a.createElement("div",{className:t.firstName&&n.firstName?"field error":"field"},m.a.createElement("label",null,"First Name",m.a.createElement(X.b,{type:"text",name:"firstName",placeholder:"Olawale"}),m.a.createElement(X.a,{name:"firstName",component:"div"}))),m.a.createElement("div",{className:t.lastName&&n.lastName?"field error":"field"},m.a.createElement("label",null,"Last Name",m.a.createElement(X.b,{type:"text",name:"lastName",placeholder:"Chinedu"}),m.a.createElement(X.a,{name:"lastName",component:"div"})))),m.a.createElement("div",{className:"two fields"},m.a.createElement("div",{className:t.email&&n.email?"field error":"field"},m.a.createElement("label",null,"Email",m.a.createElement(X.b,{type:"email",name:"email",placeholder:"abc@xyz.com"}),m.a.createElement(X.a,{name:"email",component:"div"}))),m.a.createElement("div",{className:t.phoneNumber&&n.phoneNumber?"field error":"field"},m.a.createElement("label",null,"Phone Number",m.a.createElement(X.b,{type:"text",name:"phoneNumber",placeholder:"08031234567/+234708123456"}),m.a.createElement(X.a,{name:"phoneNumber",component:"div"})))),m.a.createElement("div",{className:"two fields"},m.a.createElement("div",{className:t.password&&n.password?"field error":"field"},m.a.createElement("label",null,"Password",m.a.createElement(X.b,{type:"password",name:"password",placeholder:"********"}),m.a.createElement(X.a,{name:"password",component:"div"}))),m.a.createElement("div",{className:t.confirmPassword&&n.confirmPassword?"field error":"field"},m.a.createElement("label",null,"Confirm Password",m.a.createElement(X.b,{type:"password",name:"confirmPassword",placeholder:"********"}),m.a.createElement(X.a,{name:"confirmPassword",component:"div"})))),m.a.createElement("div",{style:{marginBottom:"1em"}},e&&m.a.createElement(Q.a,{error:!0,header:"Action Forbidden",content:e.error}),void 0),m.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},m.a.createElement(U.a,{loading:r,type:"submit",className:"dmx-color"},"Create Rider")))})))}}]),a}(c.Component),ve=t(84),be=t(87),ye=t.n(be),Se=Z.object().shape({senderName:Z.string().min(2,"Sender's Name too Short!").max(50,"Sender's Name too Long!").required("Sender's Name is Required"),senderPhone:Z.string().required("Sender's Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),senderEmail:Z.string().required("Sender's Email is Required").email("Please provide a valid email address"),senderAddress:Z.string().max(280,"Address provided too long")}),we=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).saveAndContinue=function(e){!t.props.values.senderCountry&&t.handlePlaceSelect(),t.props.updateState(e),t.props.nextStep()},t.handleScriptLoad=function(){var e={types:["geocode","establishment"],bounds:new google.maps.LatLngBounds(new google.maps.LatLng(6.5244,3.3792),new google.maps.LatLng(9.0765,7.3986)),fields:["address_components","formatted_address","geometry","name"]};t.autocomplete=new google.maps.places.Autocomplete(document.getElementById("senderAddress"),e),t.autocomplete.addListener("place_changed",t.handlePlaceSelect)},t.handlePlaceSelect=function(){var e=t.autocomplete.getPlace();if(!e){var a=new google.maps.Geocoder,n=document.getElementById("senderAddress").value;return a.geocode({address:n},function(a,r){if("OK"===r){var l=(e=a[0]).address_components.find(function(e){return"country"===e.types[0]}),i=e.address_components.find(function(e){return"administrative_area_level_1"===e.types[0]});t.props.updateState({senderState:i.long_name,senderCountry:l.long_name,senderAddress:n,srcData:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})}else alert("Geocode was not successful for the following reason: "+r)}),console.log(),null}var r=e.address_components.find(function(e){return"country"===e.types[0]}),l=e.address_components.find(function(e){return"administrative_area_level_1"===e.types[0]});r&&l&&t.props.updateState({senderState:l.long_name,senderCountry:r.long_name,senderAddress:"".concat(e.formatted_address),srcData:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(J.a,{as:"h3",dividing:!0},"Sender's Details "),m.a.createElement(X.d,{initialValues:{senderName:this.props.values.senderName||"".concat(this.props.user.firstName," ").concat(this.props.user.lastName)||"",senderPhone:this.props.values.senderPhone||this.props.user.phoneNumber||"",senderEmail:this.props.values.senderEmail||this.props.user.email||""},onSubmit:function(a){e.saveAndContinue(a)},validationSchema:function(){return Se}},function(a){var t=a.errors,n=a.touched;return m.a.createElement(X.c,{className:"ui form new"},m.a.createElement(ye.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBGFjD-GUhv7z3uj8KjNM91c2q0ivWnecg&libraries=places,geometry",onLoad:e.handleScriptLoad}),m.a.createElement("div",{className:t.senderName&&n.senderName?"field error":"field"},m.a.createElement("label",null,"Sender's Name",m.a.createElement(X.b,{type:"text",name:"senderName",placeholder:"Olawale Chinedu"}),m.a.createElement(X.a,{name:"senderName",component:"div"}))),m.a.createElement("div",{className:t.senderPhone&&n.senderPhone?"field error":"field"},m.a.createElement("label",null,"Sender's Phone",m.a.createElement(X.b,{type:"text",name:"senderPhone",placeholder:"08031234567/+234708123456"}),m.a.createElement(X.a,{name:"senderPhone",component:"div"}))),m.a.createElement("div",{className:t.senderEmail&&n.senderEmail?"field error":"field"},m.a.createElement("label",null,"Sender's Email",m.a.createElement(X.b,{type:"email",name:"senderEmail",placeholder:"abc@xyz.com"}),m.a.createElement(X.a,{name:"senderEmail",component:"div"}))),m.a.createElement("div",{className:t.senderAddress&&n.senderAddress?"field error":"field"},m.a.createElement("label",null,"Sender's Address",m.a.createElement(X.b,{value:e.props.values.senderAddress,id:"senderAddress",type:"text",name:"senderAddress",onChange:e.props.handleChange("senderAddress"),placeholder:"Sender's Address"}))),m.a.createElement(U.a,{type:"submit",className:"dmx-color",style:{display:"block"}},"Save And Continue"))}))}}]),a}(c.Component),Ce=Z.object().shape({recipientName:Z.string().min(2,"Recipient's Name too Short!").max(50,"Recipient's Name too Long!").required("Recipient's Name is Required"),recipientPhone:Z.string().required("Recipient's Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),recipientEmail:Z.string().email("Please provide a valid email address"),recipientAddress:Z.string().max(280,"Address provided too long")}),Ne=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).saveAndContinue=function(e){t.props.updateState(e),t.props.nextStep()},t.back=function(e){e.preventDefault(),t.props.prevStep()},t.handleScriptLoad=function(){var e={types:["geocode","establishment"],bounds:new google.maps.LatLngBounds(new google.maps.LatLng(6.5244,3.3792),new google.maps.LatLng(9.0765,7.3986)),fields:["address_components","formatted_address","geometry","name"]};t.autocomplete=new google.maps.places.Autocomplete(document.getElementById("recipientAddress"),e),t.autocomplete.addListener("place_changed",t.handlePlaceSelect)},t.handlePlaceSelect=function(){var e=t.autocomplete.getPlace();if(e)var a=e.address_components.find(function(e){return"country"===e.types[0]});if(e)var n=e.address_components.find(function(e){return"administrative_area_level_1"===e.types[0]});a&&n&&t.props.updateState({recipientState:n.long_name,recipientCountry:a.long_name,recipientAddress:"".concat(e.formatted_address),destData:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(J.a,{as:"h3",dividing:!0},"Recipient's Details "),m.a.createElement(X.d,{initialValues:{recipientName:this.props.values.recipientName||"",recipientPhone:this.props.values.recipientPhone||"",recipientEmail:this.props.values.recipientEmail||""},onSubmit:function(a){e.saveAndContinue(a)},validationSchema:function(){return Ce}},function(a){var t=a.errors,n=a.touched;return m.a.createElement(X.c,{className:"ui form new"},m.a.createElement(ye.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBGFjD-GUhv7z3uj8KjNM91c2q0ivWnecg&libraries=places",onLoad:e.handleScriptLoad}),m.a.createElement("div",{className:t.recipientName&&n.recipientName?"field error":"field"},m.a.createElement("label",null,"Recipient's Name",m.a.createElement(X.b,{type:"text",name:"recipientName",placeholder:"Olawale Chinedu"}),m.a.createElement(X.a,{name:"recipientName",component:"div"}))),m.a.createElement("div",{className:t.recipientPhone&&n.recipientPhone?"field error":"field"},m.a.createElement("label",null,"Recipient's Phone",m.a.createElement(X.b,{type:"text",name:"recipientPhone",placeholder:"08031234567/+234708123456"}),m.a.createElement(X.a,{name:"recipientPhone",component:"div"}))),m.a.createElement("div",{className:t.recipientEmail&&n.recipientEmail?"field error":"field"},m.a.createElement("label",null,"Recipient's Email",m.a.createElement(X.b,{type:"email",name:"recipientEmail",placeholder:"abc@xyz.com"}),m.a.createElement(X.a,{name:"recipientEmail",component:"div"}))),m.a.createElement("div",{className:t.recipientAddress&&n.recipientAddress?"field error":"field"},m.a.createElement("label",null,"Recipient's Address",m.a.createElement(X.b,{value:e.props.values.recipientAddress,id:"recipientAddress",type:"text",name:"recipientAddress",onChange:e.props.handleChange("recipientAddress"),placeholder:"recipient's Address"}))),m.a.createElement(U.a,{type:"button",secondary:!0,onClick:e.back},"Back"),m.a.createElement(U.a,{type:"submit",className:"dmx-color"},"Save And Continue"))}))}}]),a}(c.Component),ke=Z.object().shape({itemDescription:Z.string().min(3,"Item description is too short").max(140,"Item description is too long").required("A short description of the package is required"),paymentStatus:Z.string().required("The method of payment is required"),weight:Z.number().min(1,"The package weight can not be less than 1 kg").max(10,"The package weight can not be more than 10 kg").required("The package weight is required"),extraInfo:Z.string().max(250,"extra information is too long")}),je=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).saveAndContinue=function(e){t.props.updateState(e),t.props.nextStep()},t.back=function(e){e.preventDefault(),t.props.prevStep()},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(J.a,{as:"h3",dividing:!0}," Package Details "),m.a.createElement(X.d,{initialValues:{itemDescription:this.props.values.itemDescription||"",weight:this.props.values.weight||"",extraInfo:this.props.values.extraInfo||"",paymentStatus:this.props.paymentStatus||"pay on pickup"},onSubmit:function(a){e.saveAndContinue(a)},validationSchema:function(){return ke}},function(a){var t=a.errors,n=a.touched;return m.a.createElement(X.c,{className:"ui form new"},m.a.createElement("div",{className:t.itemDescription&&n.itemDescription?"field error":"field"},m.a.createElement("label",null," Item Description",m.a.createElement(X.b,{name:"itemDescription",placeholder:"A short description of the package"}),m.a.createElement(X.a,{name:"itemDescription",component:"div"}))),m.a.createElement("div",{className:t.weight&&n.weight?"field error":"field"},m.a.createElement("label",null," Weight (kg)",m.a.createElement(X.b,{name:"weight",type:"number"}),m.a.createElement(X.a,{name:"weight",component:"div"}))),m.a.createElement("div",{className:t.extraInfo&&n.extraInfo?"field error":"field"},m.a.createElement("label",null," Extra Information",m.a.createElement(X.b,{name:"extraInfo",placeholder:"e.g Please handle the package with extreme care"}),m.a.createElement(X.a,{name:"extraInfo",component:"div"}))),m.a.createElement("div",{className:"field"},m.a.createElement("label",null," Payment Method",m.a.createElement(X.b,{name:"paymentStatus",component:"select"},m.a.createElement("option",{value:"pay on delivery"},"Pay on Delivery"),m.a.createElement("option",{value:"bank transfer"},"Bank Transfer"),m.a.createElement("option",{value:"pay on pickup"},"Pay on Pickup"),m.a.createElement("option",{value:"credit/debit card"},"Credit/Debit Card"),m.a.createElement("option",{value:"wallet"},"Wallet")),m.a.createElement(X.a,{name:"extraInfo",component:"div"}))),m.a.createElement(U.a,{type:"button",secondary:!0,onClick:e.back},"Back"),m.a.createElement(U.a,{type:"submit",className:"dmx-color"},"Save And Continue"))}))}}]),a}(c.Component),xe=t(565),Ae=t(555),Oe=t(295),Pe=t.n(Oe),De=t(296),Re=t.n(De),Le=[{name:"chevron",lat:"6.442360499999999",lng:"3.5310041",region:"island3"},{name:"ikate",lat:"6.4398178",lng:"3.488976",region:"island3"},{name:"ajah underbridge",lat:"6.4686055",lng:"3.5656496",region:"island3"},{name:"victoria garden city",lat:"6.4660322",lng:"3.5445844",region:"island3"},{name:"maruwa",lat:"6.6102306",lng:"3.2552308",region:"island3"},{name:"lekki phase 1",lat:"6.4439009",lng:"3.4750836",region:"island3"},{name:"chisco",lat:"6.4832372",lng:"3.3672937",region:"island3"},{name:"ilaje",lat:"6.6082988",lng:"3.3979224",region:"island3"},{name:"agungi",lat:"6.442713299999999",lng:"3.5158297",region:"island3"},{name:"igbo efon",lat:"6.438785999999999",lng:"3.522848",region:"island3"},{name:"ajah motor park",lat:"6.466000900000001",lng:"3.5626344",region:"island3"},{name:"ikota",lat:"6.5243793",lng:"3.3792057",region:"island3"}],Ie=[{name:"lbs",lat:"6.472829399999999",lng:"3.603556299999999",region:"island4"},{name:"shoprite circle",lat:"6.4384522",lng:"3.5088246",region:"island4"},{name:"abraham adesanya",lat:"6.4657145",lng:"3.590128199999999",region:"island4"},{name:"addo road",lat:"6.4841558",lng:"3.5743282",region:"island4"},{name:"badore",lat:"6.5037588",lng:"3.6014641",region:"island4"}],qe=[{name:"amukoko",lat:"6.4700526",lng:"3.3426697",region:"mainland1"},{name:"ajegunle",lat:"6.443368599999999",lng:"3.3552653",region:"mainland1"},{name:"mile 2",lat:"6.4659336",lng:"3.3197915",region:"mainland1"},{name:"apapa",lat:"6.4446406",lng:"3.3640841",region:"mainland1"},{name:"orile",lat:"6.4780354",lng:"3.3426697",region:"mainland1"},{name:"signal barracks",lat:"6.4607185",lng:"3.3170945",region:"mainland1"},{name:"amuwo odofin",lat:"6.4291734",lng:"3.2885455",region:"mainland1"},{name:"maza maza",lat:"6.4599636",lng:"3.303827",region:"mainland1"},{name:"trade fair",lat:"6.4558781",lng:"3.245889",region:"mainland1"},{name:"festac",lat:"6.4664448",lng:"3.2835137",region:"mainland1"}],Fe=[{name:"abule nla",lat:"6.4775974",lng:"3.3587296",region:"mainland2"},{name:"mile 12",lat:"6.601532499999999",lng:"3.3968535",region:"mainland2"},{name:"costain",lat:"6.459525699999999",lng:"3.2069548",region:"mainland2"},{name:"makoko",lat:"6.4990277",lng:"3.3880288",region:"mainland2"},{name:"iganmu",lat:"6.4846306",lng:"3.3514863",region:"mainland2"},{name:"bariga",lat:"6.5391037",lng:"3.3849441",region:"mainland2"},{name:"ijora",lat:"6.473953",lng:"3.356525",region:"mainland2"},{name:"yaba",lat:"6.5095442",lng:"3.3710936",region:"mainland2"},{name:"somolu",lat:"6.539173",lng:"3.3841676",region:"mainland2"},{name:"obanikoro",lat:"6.5524054",lng:"3.3703842",region:"mainland2"},{name:"oshodi",lat:"6.535498",lng:"3.3086778",region:"mainland2"},{name:"fadeyi",lat:"6.528482899999999",lng:"3.3628242",region:"mainland2"},{name:"oworonshoki",lat:"6.550845",lng:"3.4044187",region:"mainland2"},{name:"oyingbo",lat:"6.4816024",lng:"3.3847014",region:"mainland2"},{name:"mushin",lat:"6.535233000000001",lng:"3.3489671",region:"mainland2"},{name:"akoka",lat:"6.526958100000001",lng:"3.3918106",region:"mainland2"},{name:"iponri",lat:"6.4851769",lng:"3.3632507",region:"mainland2"},{name:"jibowu",lat:"6.5177977",lng:"3.3678641",region:"mainland2"},{name:"ketu",lat:"6.5962346",lng:"3.3918106",region:"mainland2"},{name:"surulere",lat:"6.4926317",lng:"3.3489671",region:"mainland2"},{name:"onipanu",lat:"6.541816799999999",lng:"3.3603044",region:"mainland2"},{name:"ilupeju",lat:"6.553648399999999",lng:"3.3566738",region:"mainland2"},{name:"ojota",lat:"6.5856397",lng:"3.3817264",region:"mainland2"},{name:"ogudu",lat:"6.574910699999999",lng:"3.3918106",region:"mainland2"},{name:"kosofe",lat:"6.5987808",lng:"3.4094629",region:"mainland2"},{name:"gbagada",lat:"6.561637699999999",lng:"3.3842473",region:"mainland2"},{name:"ojuelegba",lat:"6.510951299999999",lng:"3.3632594",region:"mainland2"}],Be=[{name:"agege",lat:"6.615355600000001",lng:"3.3237824",region:"mainland3"},{name:"ogba",lat:"6.625188199999999",lng:"3.3441475",region:"mainland3"},{name:"oregun",lat:"6.6070693",lng:"3.366604",region:"mainland3"},{name:"shogunle",lat:"6.575297099999999",lng:"3.34164",region:"mainland3"},{name:"ajao estate",lat:"6.5500253",lng:"3.3275593",region:"mainland3"},{name:"anthony village",lat:"6.564353",lng:"3.3766851",region:"mainland3"},{name:"dopemu",lat:"6.6127388",lng:"3.3162295",region:"mainland3"},{name:"airforce base",lat:"6.5783955",lng:"3.3369335",region:"mainland3"},{name:"maryland",lat:"6.576421",lng:"3.365344",region:"mainland3"},{name:"alausa",lat:"6.6211078",lng:"3.3609343",region:"mainland3"},{name:"murtala mohammed",lat:"6.5818185",lng:"3.3211348",region:"mainland3"},{name:"ikeja",lat:"6.601838",lng:"3.3514863",region:"mainland3"},{name:"omole phase 1",lat:"6.6376368",lng:"3.3558156",region:"mainland3"}],_e=[{name:"berger",lat:"6.6470273",lng:"3.3741647",region:"mainland4"},{name:"isheri",lat:"6.6351156",lng:"3.3603044",region:"mainland4"},{name:"magodo phase 2",lat:"6.6176339",lng:"3.3817264",region:"mainland4"},{name:"ojodu berger",lat:"6.6470273",lng:"3.3741647",region:"mainland4"},{name:"toll gate",lat:"6.435820199999999",lng:"3.4471546",region:"mainland4"},{name:"magodo phase 1",lat:"6.635437599999999",lng:"3.3859966",region:"mainland4"},{name:"abule egba",lat:"6.6483728",lng:"3.2991753",region:"mainland4"}],Te=[{name:"oshodi-isolo",lat:"6.535498",lng:"3.3086778",region:"mainland5"},{name:"isheri",lat:"6.6351156",lng:"3.3603044",region:"mainland5"},{name:"ijegun",lat:"6.5164545",lng:"3.2597081",region:"mainland5"},{name:"ejigbo",lat:"6.5515802",lng:"3.2935778",region:"mainland5"},{name:"ikotun",lat:"6.562564399999999",lng:"3.2432781",region:"mainland5"},{name:"okota",lat:"6.5088349",lng:"3.3137121",region:"mainland5"},{name:"baruwa",lat:"6.673216399999999",lng:"3.2751898",region:"mainland5"},{name:"igando",lat:"6.535889",lng:"3.2483058",region:"mainland5"},{name:"isolo",lat:"6.535498",lng:"3.3086778",region:"mainland5"},{name:"oke afa isolo",lat:"6.5298354",lng:"3.3120087",region:"mainland5"},{name:"iyana ipaja",lat:"6.6053337",lng:"3.2792438",region:"mainland5"},{name:"cele egbe",lat:"6.5341304",lng:"3.2789643",region:"mainland5"},{name:"ago palace",lat:"6.5001598",lng:"3.3027159",region:"mainland5"},{name:"egbeda",lat:"6.5915737",lng:"3.2910616",region:"mainland5"},{name:"alimosho",lat:"6.5744462",lng:"3.2569872",region:"mainland5"},{name:"jakande oke afa",lat:"6.524732500000001",lng:"3.2973682",region:"mainland5"}],Me=function(e){return e*Math.PI/180},He=function(e){var a,t=[];return Pe.a.concat(Re.a,Le,Ie,qe,Fe,Be,_e,Te).map(function(a){var n=[];n.push(function(e,a){var t=Me(e.lat),n=Me(e.lng),r=Me(a.lat),l=Me(a.lng);return 6371*Math.acos(Math.sin(t)*Math.sin(r)+Math.cos(t)*Math.cos(r)*Math.cos(n-l))}(e,a)),n.push(a.region),n.push(a.name),t.push(n)}),(a=t,a.reduce(function(e,a){return e[0]<a[0]?e:a}))[1]},ze={island1:1e3,island2:1e3,island3:1e3,island4:1200,mainland1:1500,mainland2:1e3,mainland3:1200,mainland4:1500,mainland5:1800},Ue={island1:1e3,island2:800,island3:1e3,island4:1200,mainland1:1500,mainland2:1200,mainland3:1500,mainland4:1500,mainland5:1800},Ge={island1:1e3,island2:1e3,island3:800,island4:1e3,mainland1:1500,mainland2:1200,mainland3:1500,mainland4:1800,mainland5:2e3},Ve={island1:1200,island2:1200,island3:1e3,island4:1e3,mainland1:1500,mainland2:1500,mainland3:1800,mainland4:1800,mainland5:2e3},We={island1:1500,island2:1500,island3:1500,island4:1500,mainland1:1e3,mainland2:1e3,mainland3:1500,mainland4:1800,mainland5:1500},Ye={island1:1e3,island2:1200,island3:1200,island4:1500,mainland1:1e3,mainland2:1e3,mainland3:1e3,mainland4:1500,mainland5:1500},$e={island1:1200,island2:1500,island3:1500,island4:1800,mainland1:1500,mainland2:1e3,mainland3:1e3,mainland4:1200,mainland5:1200},Ke={island1:1500,island2:1500,island3:1800,island4:1800,mainland1:1800,mainland2:1500,mainland3:1200,mainland4:1e3,mainland5:1200},Je={island1:1800,island2:1800,island3:2e3,island4:2e3,mainland1:2e3,mainland2:1500,mainland3:1200,mainland4:1200,mainland5:1e3},Qe=function(e,a){var t,n=He(a);switch(He(e)){case"island1":t=ze[n];break;case"island2":t=Ue[n];break;case"island3":t=Ge[n];break;case"island4":t=Ve[n];break;case"mainland1":t=We[n];break;case"mainland2":t=Ye[n];break;case"mainland3":t=$e[n];break;case"mainland4":t=Ke[n];break;case"mainland5":t=Je[n];break;default:console.log("chill")}return t},Xe=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(g.a)(this,Object(E.a)(a).call(this,e))).saveAndContinue=function(e){var a;e.preventDefault();var n=t.props.values,l=n.senderState,i=n.srcData,o=n.destData,s=n.recipientState;"Lagos"===l&&"Lagos"===s&&(a=Qe(i,o));var c=t.props.values;c.price=a,delete c.recipientCountry,delete c.recipientState,delete c.srcData,delete c.destData,delete c.senderCountry,delete c.senderState;var m=localStorage.token;t.setState({isSubmitting:!0}),F()({method:"post",url:"https://dmx-backend.herokuapp.com/api/v1/orders",headers:{"auth-token":m},data:c}).then(function(e){t.setState({isSubmitting:!1}),console.log(e),setTimeout(function(){return t.props.nextStep()},5e3)}).catch(function(e){r=e.response.data.error,t.setState({isSubmitting:!1}),console.log(e),console.log(e.response.data),r=e.response.data.error})},t.back=function(e){e.preventDefault(),t.props.prevStep()},t.state={isSubmitting:!1},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e,a=this.props.values,t=a.senderName,n=a.senderPhone,l=a.senderEmail,i=a.senderAddress,o=a.recipientName,s=a.recipientPhone,c=a.recipientEmail,d=a.recipientAddress,u=a.senderState,p=a.srcData,h=a.destData,g=a.recipientState,E=a.paymentStatus,f=a.weight,v=a.extraInfo,b=a.itemDescription;return"Lagos"===u&&"Lagos"===g&&(e=Qe(p,h)),m.a.createElement("div",null,m.a.createElement("h1",{className:"ui centered"},"Confirm your Details"),m.a.createElement("p",null,"Click Confirm if the following details have been correctly entered"),m.a.createElement(xe.a,{columns:3,divided:!0},m.a.createElement(xe.a.Row,{stretched:!0},m.a.createElement(xe.a.Column,null,m.a.createElement(L.a,null,m.a.createElement(se.a,{size:"tiny",attached:"top left"}," Sender Details"),m.a.createElement(Ae.a,{divided:!0,relaxed:!0},m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"user",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Sender Name:"),m.a.createElement(Ae.a.Description,{style:{color:"#990000"}},t))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"phone",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Sender Phone:"),m.a.createElement(Ae.a.Description,{style:{color:"#990000"}},n))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"mail",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Sender Email:"),m.a.createElement(Ae.a.Description,{style:{color:"#990000"}},l))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"map marker alternate",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Sender Address:"),m.a.createElement(Ae.a.Description,{style:{color:"#990000"}},i)))))),m.a.createElement(xe.a.Column,null,m.a.createElement(L.a,null,m.a.createElement(se.a,{size:"tiny",attached:"top left"}," Recipient Details"),m.a.createElement(Ae.a,{divided:!0,relaxed:!0},m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"user",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Recipient Name:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},o))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"phone",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Recipient Phone:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},s))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"mail",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Recipient Email:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},c))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"marker",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Recipient Address:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},d)))))),m.a.createElement(xe.a.Column,null,m.a.createElement(L.a,null,m.a.createElement(se.a,{size:"tiny",attached:"top left"}," Package Details"),m.a.createElement(Ae.a,{divided:!0,relaxed:!0},m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"info",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Item Description:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},b))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"weight",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Weight:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},f,"kg"))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"info",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"Extra Information:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},v))),m.a.createElement(Ae.a.Item,null,m.a.createElement(Ae.a.Icon,{name:"money bill alternate outline",size:"large",verticalAlign:"middle"}),m.a.createElement(Ae.a.Content,null,m.a.createElement(Ae.a.Header,null,"PaymentStatus:"),m.a.createElement(Ae.a.Description,{style:{color:"#900"}},E))))))),m.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},m.a.createElement(L.a,{raised:!0,attached:"top",style:{textAlign:"center"}},"The estimated price of the package is ",m.a.createElement("span",{style:{color:"#900",fontWeight:"bold"}},"  \u20a6",e)),m.a.createElement(Q.a,{warning:!0,attached:"bottom"},m.a.createElement(B.a,{name:"warning"}),"This is just an estimate, this can be adjusted before pick up!")),m.a.createElement("div",{style:{margin:"1em"}},r&&m.a.createElement(m.a.Fragment,null," ",m.a.createElement(Q.a,{error:!0,header:"Action Forbidden",content:r}),r=void 0,m.a.createElement("p",null,"Please go back to effect changes before this can be submitted")," ")),m.a.createElement(xe.a.Row,null,m.a.createElement(U.a,{secondary:!0,onClick:this.back},"Back"),m.a.createElement(U.a,{primary:!0,loading:this.state.isSubmitting,onClick:this.saveAndContinue},"Confirm"))))}}]),a}(c.Component),Ze=function(e){function a(){return Object(p.a)(this,a),Object(g.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("h1",{className:"ui centered"},"Details Successfully Saved"))}}]),a}(c.Component),ea=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={step:1,senderName:"",senderPhone:"",senderEmail:"",senderAddress:t.props.user.address||"",senderState:"",senderCountry:"",recipientName:"",recipientPhone:"",recipientEmail:"",recipientAddress:"",recipientState:"",recipientCountry:"",itemDescription:"",paymentStatus:"",weight:1,extraInfo:"",priceEstimate:""},t.nextStep=function(){var e=t.state.step;t.setState({step:e+1})},t.prevStep=function(){var e=t.state.step;t.setState({step:e-1})},t.updateState=function(e){t.setState(Object(k.a)({},e))},t.handleChange=function(e){return function(a){t.setState(Object(ve.a)({},e,a.target.value))}},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.state.step,a=this.state,t={senderName:a.senderName,senderPhone:a.senderPhone,senderEmail:a.senderEmail,senderAddress:a.senderAddress,senderState:a.senderState,senderCountry:a.senderCountry,srcData:a.srcData,recipientName:a.recipientName,recipientPhone:a.recipientPhone,recipientEmail:a.recipientEmail,recipientAddress:a.recipientAddress,recipientState:a.recipientState,recipientCountry:a.recipientCountry,destData:a.destData,itemDescription:a.itemDescription,paymentStatus:a.paymentStatus,weight:a.weight,extraInfo:a.extraInfo};switch(e){case 1:return m.a.createElement(we,{nextStep:this.nextStep,updateState:this.updateState,handleChange:this.handleChange,values:t,user:this.props.user});case 2:return m.a.createElement(Ne,{nextStep:this.nextStep,prevStep:this.prevStep,updateState:this.updateState,handleChange:this.handleChange,values:t,user:this.props.user});case 3:return m.a.createElement(je,{nextStep:this.nextStep,prevStep:this.prevStep,updateState:this.updateState,values:t});case 4:return m.a.createElement(Xe,{nextStep:this.nextStep,prevStep:this.prevStep,values:t});case 5:return m.a.createElement(Ze,null);default:return null}}}]),a}(c.Component),aa=function(e){function a(){return Object(p.a)(this,a),Object(g.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},m.a.createElement(ea,{user:this.props.user}))}}]),a}(c.Component),ta=function(e){var a=e.order;return m.a.createElement(m.a.Fragment,null,m.a.createElement(de.a.Cell,null,m.a.createElement(se.a,{color:"processing"===a.status?"blue":"confirmed"===a.status?"orange":"in transit"===a.status?"teal":"delivered"===a.status?"green":"black",ribbon:!0},a.id)),m.a.createElement(de.a.Cell,null,m.a.createElement(se.a,{color:"black"},"\u20a6",Number(a.price))),m.a.createElement(de.a.Cell,null,new Date(a.createdAt).toDateString()),m.a.createElement(de.a.Cell,null,"processing"===a.status?m.a.createElement("p",null,m.a.createElement(B.a,{name:"wait"})," Processing"):"confirmed"===a.status?m.a.createElement("p",null,m.a.createElement(B.a,{name:"checkmark"})," Confirmed"):"in transit"===a.status?m.a.createElement("p",null,m.a.createElement(B.a,{name:"bicycle"})," In Transit"):"delivered"===a.status?m.a.createElement("p",null,m.a.createElement(B.a,{name:"checkmark"})," Delivered"):m.a.createElement("p",null,m.a.createElement(B.a,{name:"x"})," Cancelled")),m.a.createElement(de.a.Cell,null,m.a.createElement(G.a,{to:"/orders/".concat(a.id)},m.a.createElement(U.a,{className:"dmx-color",animated:"vertical"},m.a.createElement(U.a.Content,{hidden:!0},"Detailed View"),m.a.createElement(U.a.Content,{visible:!0},"Show More")))))},na=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(g.a)(this,Object(E.a)(a).call(this,e))).handleDismiss=function(){t.setState({visibleLog:!1}),localStorage.setItem("visibleLog","false")},t.state={visibleLog:!0,dataLoaded:!1},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){localStorage.visibleLog&&this.setState({visibleLog:!1})}},{key:"render",value:function(){this.state.dataLoaded||localStorage.dataLoaded||(localStorage.dataLoaded="yes",window.location.reload());var e=this.props.orders.map(function(e){return m.a.createElement(de.a.Row,{key:e.id},m.a.createElement(ta,{order:e}))});return m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},this.props.location.state&&this.state.visibleLog&&m.a.createElement(Q.a,{color:"green",floating:!0,onDismiss:this.handleDismiss,header:this.props.location.state.message}),m.a.createElement(J.a,{as:"h3",dividing:!0},"All My Orders"),m.a.createElement(de.a,{celled:!0},m.a.createElement(de.a.Header,null,m.a.createElement(de.a.Row,null,m.a.createElement(de.a.HeaderCell,null,"Order Id"),m.a.createElement(de.a.HeaderCell,null,"Amount"),m.a.createElement(de.a.HeaderCell,null,"Date Ordered"),m.a.createElement(de.a.HeaderCell,null,"Status"),m.a.createElement(de.a.HeaderCell,null,"View Details"))),m.a.createElement(de.a.Body,null,e)))}}]),a}(c.Component),ra=t(551),la=t(548),ia=t(559),oa=t(549),sa=t(556),ca=t(552),ma=t(89),da=t.n(ma),ua=localStorage.token,pa=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(g.a)(this,Object(E.a)(a).call(this,e))).showConfirm=function(){return t.setState({openConfirm:!0})},t.closeConfirm=function(){return t.setState({openConfirm:!1})},t.showCancel=function(){return t.setState({openCancel:!0})},t.closeCancel=function(){return t.setState({openCancel:!1})},t.showComplete=function(){return t.setState({openComplete:!0})},t.closeComplete=function(){return t.setState({openComplete:!1})},t.showAccept=function(){return t.setState({openAccept:!0})},t.closeAccept=function(){return t.setState({openAccept:!1})},t.showReject=function(){return t.setState({openReject:!0})},t.closeReject=function(){return t.setState({openReject:!1})},t.handleCancel=function(){t.setState({isSubmittingCancel:!0,openCancel:!1}),F()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/cancel"),method:"patch",headers:{"auth-token":ua},data:{status:"cancelled"}}).then(function(e){t.setState({isSubmittingCancel:!1}),window.location.reload()}).catch(function(e){return console.log(e.response)})},t.handleConfirm=function(){t.setState({isSubmittingConfirm:!0,openConfirm:!1}),F()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/confirm"),method:"patch",headers:{"auth-token":ua},data:{status:"confirmed"}}).then(function(e){t.setState({isSubmittingConfirm:!1}),window.location.reload()}).catch(function(e){return console.log(e.response)})},t.handleComplete=function(){t.setState({isSubmittingComplete:!0,openComplete:!1}),F()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/complete"),method:"patch",headers:{"auth-token":ua},data:{status:"delivered"}}).then(function(e){t.setState({isSubmittingComplete:!0}),window.location.reload()}).catch(function(e){return console.log(e)})},t.handleAccept=function(){t.setState({isSubmittingAccept:!0,openAccept:!1}),F()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/accept"),method:"patch",headers:{"auth-token":ua},data:{status:"in transit"}}).then(function(e){t.setState({isSubmittingAccept:!0}),window.location.reload()}).catch(function(e){return console.log(e)})},t.handleReject=function(){t.setState({isSubmittingReject:!0,openReject:!1}),F()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/reject"),method:"patch",headers:{"auth-token":ua},data:{riderId:null}}).then(function(e){t.setState({isSubmittingReject:!0}),window.location.href="/all"}).catch(function(e){return console.log(e.response.data)})},t.handleChange=function(e,a){var n=a.value;t.setState({rider:n})},t.handlePriceChange=function(e,a){var n=a.value;t.setState({price:n})},t.handlePriceSubmit=function(){t.setState({isSubmittingPrice:!0}),F()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/price"),method:"patch",headers:{"auth-token":ua},data:{price:t.state.price}}).then(function(e){t.setState({isSubmittingPrice:!1}),window.location.reload()}).catch(function(e){e.response&&e.response.data&&(i=e.response.data.error),t.setState({isSubmittingPrice:!1})})},t.handleSubmit=function(){t.setState({isSubmitting:!0}),F()({url:"https://dmx-backend.herokuapp.com/api/v1/orders/".concat(t.props.order.id,"/assign"),method:"patch",headers:{"auth-token":ua},data:{riderId:t.state.rider}}).then(function(e){t.setState({isSubmitting:!1}),window.location.reload()}).catch(function(e){e.response&&e.response.data&&"No values provided for riderId"===e.response.data.error&&(l="No rider selected"),t.setState({isSubmitting:!1})})},t.state={rider:"",price:"",isSubmittingPrice:!1,isSubmittingConfirm:!1,isSubmittingComplete:!1,isSubmittingCancel:!1,isSubmittingAccept:!1,isSubmittingReject:!1,isSubmitting:!1,openConfirm:!1,openCancel:!1,openComplete:!1,openAccept:!1,openReject:!1},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.state,a=e.openCancel,t=e.openComplete,n=e.openConfirm,r=e.openAccept,o=e.openReject,s=e.isSubmittingCancel,c=e.isSubmittingComplete,d=e.isSubmittingConfirm,u=e.isSubmittingAccept,p=e.isSubmittingReject,h=da.a.map(this.props.riders,function(e){return{key:e.id,text:"".concat(e.firstName," ").concat(e.lastName),value:e.id}});return m.a.createElement(m.a.Fragment,null,this.props.order&&m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},m.a.createElement(J.a,{as:"h3",dividing:!0,content:"Order Details",subheader:this.props.order.id}),m.a.createElement(xe.a,{stackable:!0,columns:3},m.a.createElement(xe.a.Column,null,"Item Description",m.a.createElement(L.a,{color:"black"},this.props.order.itemDescription)),m.a.createElement(xe.a.Column,null,"Status",m.a.createElement(L.a,{textAlign:"center",color:"processing"===this.props.order.status?"blue":"confirmed"===this.props.order.status?"orange":"in transit"===this.props.order.status?"teal":"delivered"===this.props.order.status?"green":"black",inverted:!0},da.a.capitalize(this.props.order.status))),m.a.createElement(xe.a.Column,null,"Date Ordered",m.a.createElement(L.a,{textAlign:"right"},new Date(this.props.order.createdAt).toDateString())),"admin"!==this.props.user.userRole?null:"cancelled"===this.props.order.status||"delivered"===this.props.order.status?null:m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},m.a.createElement(L.a,{color:"black",style:{marginBottom:"1rem"}},m.a.createElement(ra.a,{onSubmit:this.handlePriceSubmit},m.a.createElement(ra.a.Group,{inline:!0},m.a.createElement("label",null,"Adjust the order price to"),m.a.createElement(la.a,{onChange:this.handlePriceChange,labelPosition:"right",type:"number",placeholder:"Enter New Price"},m.a.createElement("input",null)),m.a.createElement(U.a,{loading:this.state.isSubmittingPrice,type:"submit",style:{},primary:!0},"Change Price"))))),i&&m.a.createElement("div",{style:{marginBottom:"1em",display:"flex",justifyContent:"center",width:"100%"}},m.a.createElement(Q.a,{error:!0,header:"Action Forbidden",content:i})),i=void 0),"pay on pickup"!==this.props.order.paymentStatus&&"pay on delivery"!==this.props.order.paymentStatus?null:m.a.createElement(xe.a.Column,{textAlign:"center",width:8},m.a.createElement(L.a,{textAlign:"center",className:"dmx-color",inverted:!0},m.a.createElement(ia.a,{size:"tiny",className:"dmx-color",inverted:!0},m.a.createElement(ia.a.Value,null,"\u20a6",this.props.order.price),m.a.createElement(ia.a.Label,null,"Price")))),"pay on pickup"!==this.props.order.paymentStatus&&"pay on delivery"!==this.props.order.paymentStatus?null:m.a.createElement(xe.a.Column,{textAlign:"center",width:8},m.a.createElement(L.a,{textAlign:"center",inverted:!0},m.a.createElement(ia.a,{size:"tiny",inverted:!0},m.a.createElement(ia.a.Value,null,da.a.upperCase(this.props.order.paymentStatus)),m.a.createElement(ia.a.Label,null,"Payment Method")))),"admin"!==this.props.user.userRole?null:this.props.order.rider?null:"confirmed"!==this.props.order.status?null:m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},m.a.createElement(L.a,{color:"teal",style:{marginBottom:"1rem"}},m.a.createElement(ra.a,{onSubmit:this.handleSubmit},m.a.createElement(ra.a.Group,{inline:!0},m.a.createElement(ra.a.Field,{inline:!0,control:oa.a,onChange:this.handleChange,label:"Assign this order to \xa0",placeholder:"Select a Rider",options:h}),m.a.createElement(U.a,{loading:this.state.isSubmitting,type:"submit",style:{marginLeft:"1rem"},primary:!0},"Assign"))))),l&&m.a.createElement("div",{style:{marginBottom:"1em",margin:"0 auto"}},m.a.createElement(Q.a,{error:!0,header:"Action Forbidden",content:l})),l=void 0),this.props.order.rider&&m.a.createElement(Q.a,{info:!0,icon:"bicycle",header:"rider"===this.props.user.userRole?"This package has been assigned to you":"This package will be delivered by ".concat(this.props.order.rider.firstName," ").concat(this.props.order.rider.lastName),content:"rider"===this.props.user.userRole?"You will find details of the pickup and delivery below.":"You can get through to him on this number ".concat(this.props.order.rider.phoneNumber)}),m.a.createElement(xe.a.Column,{textAlign:"center",width:8},m.a.createElement(sa.a,{fluid:!0},m.a.createElement(sa.a.Content,{header:da.a.upperFirst(this.props.order.senderName)}),m.a.createElement(sa.a.Content,{meta:m.a.createElement("span",null,m.a.createElement(B.a,{name:"phone"})," ",this.props.order.senderPhone)}),m.a.createElement(sa.a.Content,{description:m.a.createElement(m.a.Fragment,null,m.a.createElement(B.a,{name:"map marker alternate"})," ",this.props.order.senderAddress)})),m.a.createElement(se.a,{size:"tiny",attached:"top left"},m.a.createElement(B.a,{name:"truck"})," Pick Up Details")),m.a.createElement(xe.a.Column,{textAlign:"center",width:8},m.a.createElement(sa.a,{fluid:!0},m.a.createElement(sa.a.Content,{header:da.a.upperFirst(this.props.order.recipientName)}),m.a.createElement(sa.a.Content,{meta:m.a.createElement("span",null,m.a.createElement(B.a,{name:"phone"})," ",this.props.order.recipientPhone)}),m.a.createElement(sa.a.Content,{description:m.a.createElement(m.a.Fragment,null,m.a.createElement(B.a,{name:"map marker alternate"})," ",this.props.order.recipientAddress)})),m.a.createElement(se.a,{size:"tiny",attached:"top left"},m.a.createElement(B.a,{name:"truck"})," Delivery Details")),m.a.createElement(xe.a.Row,{centered:!0,columns:2},m.a.createElement(xe.a.Column,null,m.a.createElement(U.a.Group,{fluid:!0},"rider"===this.props.user.userRole?null:"delivered"===this.props.order.status||"cancelled"===this.props.order.status?null:m.a.createElement(m.a.Fragment,null,m.a.createElement(U.a,{loading:s,secondary:!0,onClick:this.showCancel},"Cancel"),m.a.createElement(U.a.Or,null)),"rider"!==this.props.user.userRole?null:this.props.order.rider?"delivered"===this.props.order.status||"cancelled"===this.props.order.status||"in transit"===this.props.order.status?null:m.a.createElement(m.a.Fragment,null,m.a.createElement(U.a,{loading:p,secondary:!0,onClick:this.showReject},"Reject"),m.a.createElement(U.a.Or,null)):null,"processing"!==this.props.order.status?null:"personal"===this.props.user.userRole?null:m.a.createElement(m.a.Fragment,null,m.a.createElement(U.a,{loading:d,positive:!0,onClick:this.showConfirm},"Confirm")),"rider"!==this.props.user.userRole?null:this.props.order.rider?"delivered"===this.props.order.status||"cancelled"===this.props.order.status||"in transit"===this.props.order.status?null:m.a.createElement(m.a.Fragment,null,m.a.createElement(U.a,{loading:u,positive:!0,onClick:this.showAccept},"Accept")):null,"personal"===this.props.user.userRole||"business"===this.props.user.userRole?null:"processing"===this.props.order.status||"cancelled"===this.props.order.status||"delivered"===this.props.order.status?null:m.a.createElement(U.a,{loading:c,primary:!0,onClick:this.showComplete},"Delivered")))))),m.a.createElement("div",null,m.a.createElement(ca.a,{style:{height:"unset",left:"unset",top:"unset"},open:n,onCancel:this.closeConfirm,cancelButton:"Never Mind",confirmButton:"Yes, Please",onConfirm:this.handleConfirm,content:"Are you sure you want to confirm this Order?"}),m.a.createElement(ca.a,{style:{height:"unset",left:"unset",top:"unset"},open:t,onCancel:this.closeComplete,onConfirm:this.handleComplete,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to mark this order as delivered?"}),m.a.createElement(ca.a,{style:{height:"unset",left:"unset",top:"unset"},open:a,onConfirm:this.handleCancel,onCancel:this.closeCancel,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to cancel this order?"}),m.a.createElement(ca.a,{style:{height:"unset",left:"unset",top:"unset"},open:r,onConfirm:this.handleAccept,onCancel:this.closeAccept,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to accept this assignment?"}),m.a.createElement(ca.a,{style:{height:"unset",left:"unset",top:"unset"},open:o,onConfirm:this.handleReject,onCancel:this.closeReject,cancelButton:"Never Mind",confirmButton:"Yes, Please",content:"Are you sure you want to reject this assignment?"})))}}]),a}(m.a.Component),ha=Z.object().shape({firstName:Z.string().min(2,"First name cannot be less than 2 characters").max(50,"First name provided is too long. Please provide in the range of 2 - 50 characters").required("First name is required"),lastName:Z.string().min(2,"Last name cannot be less than 2 characters").max(50,"Last name provided is too long. Please provide in the range of 2 - 50 characters").required("Last name is required"),phoneNumber:Z.string().required("Phone Number is Required").matches(/^[+]?(\d{0,3})(\d{10})$/,"Please provide a valid phone number"),address:Z.string().max(280,"Address provided too long")}),ga=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(r)))).state={address:t.props.user.address},t.handleScriptLoad=function(){var e=window.google,a={types:["geocode","establishment"],bounds:new e.maps.LatLngBounds(new e.maps.LatLng(6.5244,3.3792),new e.maps.LatLng(9.0765,7.3986)),fields:["address_components","formatted_address","name","geometry"]};t.autocomplete=new e.maps.places.Autocomplete(document.getElementById("address"),a),t.autocomplete.addListener("place_changed",t.handlePlaceSelect)},t.handlePlaceSelect=function(){var e=t.autocomplete.getPlace(),a={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};console.log(a),t.setState({address:"".concat(e.formatted_address)})},t.handleChange=function(e){return function(a){t.setState(Object(ve.a)({},e,a.target.value))}},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"main",style:{width:"60%",display:"flex",flexDirection:"column",marginTop:"1em"}},m.a.createElement(J.a,{as:"h3",dividing:!0},"My Profile"),m.a.createElement(xe.a,{stackable:!0,columns:3},m.a.createElement(xe.a.Column,{textAlign:"center",width:8},m.a.createElement(sa.a,{fluid:!0},m.a.createElement(sa.a.Content,{header:"".concat(this.props.user.firstName," ").concat(this.props.user.lastName)}),m.a.createElement(sa.a.Content,{meta:m.a.createElement("span",null,m.a.createElement(B.a,{name:"phone"})," ",this.props.user.phoneNumber)}),m.a.createElement(sa.a.Content,{description:m.a.createElement(m.a.Fragment,null,m.a.createElement(B.a,{name:"map marker alternate"}),this.props.user.address)})))),m.a.createElement(J.a,{as:"h3",dividing:!0},"Update Profile"),m.a.createElement(X.d,{initialValues:{firstName:this.props.user.firstName||"",lastName:this.props.user.lastName||"",phoneNumber:this.props.user.phoneNumber||""},onSubmit:function(a,t){var n,r,l=localStorage.token;l&&(n=Y()(l)),n&&(r=n.userId);var i=e.state.address;F()({method:"put",url:"https://dmx-backend.herokuapp.com/api/v1/users/".concat(r,"/profile"),data:Object(k.a)({},a,{address:i}),headers:{"auth-token":l}}).then(function(a){s="Profile Updated successfully",console.log(s),e.props.updateState({user:a.data.data}),setTimeout(function(){window.location.reload()},3e3)}).catch(function(e){console.log(e),o=e.response.data}).then(function(){return t.setSubmitting(!1)})},validationSchema:function(){return ha}},function(a){var t=a.errors,n=a.touched,r=a.isSubmitting;return m.a.createElement(m.a.Fragment,null,m.a.createElement(ye.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBGFjD-GUhv7z3uj8KjNM91c2q0ivWnecg&libraries=places",onLoad:e.handleScriptLoad}),m.a.createElement(X.c,{className:o?"ui form new error":s?"ui form new success":"ui form new"},m.a.createElement("div",{className:"equal width fields"},m.a.createElement("div",{className:t.firstName&&n.firstName?"field error":"field"},m.a.createElement("label",null,"First Name",m.a.createElement(X.b,{type:"text",name:"firstName",placeholder:"Olawale"}),m.a.createElement(X.a,{name:"firstName",component:"div"}))),m.a.createElement("div",{className:t.lastName&&n.lastName?"field error":"field"},m.a.createElement("label",null,"Last Name",m.a.createElement(X.b,{type:"text",name:"lastName",placeholder:"Chinedu"}),m.a.createElement(X.a,{name:"lastName",component:"div"}))),m.a.createElement("div",{className:t.phoneNumber&&n.phoneNumber?"field error":"field"},m.a.createElement("label",null,"Phone Number",m.a.createElement(X.b,{type:"text",name:"phoneNumber",placeholder:"08031234567/+234708123456"}),m.a.createElement(X.a,{name:"phoneNumber",component:"div"})))),m.a.createElement("div",{className:t.address&&n.address?"field error":"field"},m.a.createElement("label",null,"Address",m.a.createElement(X.b,{value:e.state.address,id:"address",name:"address",onChange:e.handleChange("address"),placeholder:"Your preffered address for pick up or delivery"}))),m.a.createElement("div",{style:{marginBottom:"1em"}},o&&m.a.createElement(Q.a,{error:!0,header:"Action Forbidden",content:o.error}),s&&m.a.createElement(Q.a,{success:!0,header:s})),m.a.createElement(U.a,{loading:r,className:"dmx-color"},"Save Profile")))}))}}]),a}(m.a.Component);var Ea=function(e){var a=e.component,t=Object(ne.a)(e,["component"]);return m.a.createElement(O.a,Object.assign({},t,{render:function(e){return $.isAuthenticated()?m.a.createElement(a,e):m.a.createElement(P.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},fa=t(195),va=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(g.a)(this,Object(E.a)(a).call(this,e))).updateState=function(e){t.setState(Object(k.a)({},e))},t.state={isLoading:!1,orders:[],user:{address:"hello"},riders:[]},t}return Object(f.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){var e,a,t,n=this,r=localStorage.token;r&&(e=Y()(r)),e&&(a=e.userId),e&&(t=e.userRole),a&&this.setState({isLoading:!0}),"admin"===t&&F()({url:"https://dmx-backend.herokuapp.com/api/v1/users/".concat(a,"/riders"),headers:{"auth-token":r}}).then(function(e){n.setState({riders:e.data.data})}).catch(function(e){return console.log(e.response)});a&&F.a.all([F()({headers:{"auth-token":r},url:"https://dmx-backend.herokuapp.com/api/v1/orders"}),F()({headers:{"auth-token":r},url:"https://dmx-backend.herokuapp.com/api/v1/users/".concat(a)})]).then(F.a.spread(function(e,a){n.setState({isLoading:!1,user:a.data.data,orders:e.data.data})})).catch(function(e){console.log(e.response),n.setState({isLoading:!1})})}},{key:"render",value:function(){var e=this,a=this.state.orders.filter(function(e){return"delivered"!==e.status&&"cancelled"!==e.status}),t=this.state.orders.filter(function(e){return"delivered"===e.status});return this.state.isLoading?m.a.createElement(m.a.Fragment,null,m.a.createElement(R.a.Dimmable,{style:{minHeight:"100vh"},as:L.a,dimmed:!0},m.a.createElement(R.a,{active:!0,inverted:!0},m.a.createElement(I.a,null,"Loading")),m.a.createElement(K,{history:this.props.history,location:this.props.location,user:this.state.user}),m.a.createElement(me,null))):m.a.createElement("div",null,m.a.createElement(K,{history:this.props.history,location:this.props.location,user:this.state.user}),m.a.createElement(me,{user:this.state.user}),m.a.createElement(fa.TransitionGroup,null,m.a.createElement(fa.CSSTransition,{key:this.props.location.key,classNames:"page",timeout:300},m.a.createElement(A.a,null,m.a.createElement(O.a,{path:"/login",component:ae}),m.a.createElement(O.a,{path:"/register",component:ie}),m.a.createElement(Ea,{exact:!0,path:"/all",onEnter:this.forceUpdate,onChange:this.forceUpdate,component:function(){return m.a.createElement(na,Object.assign({},e.props,{user:e.state.user,orders:e.state.orders}))}}),m.a.createElement(Ea,{exact:!0,path:"/current",component:function(){return m.a.createElement(pe,Object.assign({},e.props,{user:e.state.user,orders:a}))}}),m.a.createElement(Ea,{exact:!0,path:"/completed",component:function(){return m.a.createElement(ge,Object.assign({},e.props,{user:e.state.user,orders:t}))}}),m.a.createElement(Ea,{exact:!0,path:"/new",component:function(){return m.a.createElement(aa,Object.assign({},e.props,{user:e.state.user}))}}),m.a.createElement(Ea,{path:"/orders/:orderId",component:function(a){var t=a.match;return m.a.createElement(pa,{user:e.state.user,riders:e.state.riders,order:e.state.orders.filter(function(e){return e.id===Number(t.params.orderId)})[0]})}}),m.a.createElement(Ea,{exact:!0,path:"/profile",component:function(){return m.a.createElement(ga,Object.assign({updateState:e.updateState},e.props,{user:e.state.user}))}}),m.a.createElement(Ea,{exact:!0,path:"/new-rider",component:fe}),m.a.createElement(O.a,{path:"/404",component:te}),m.a.createElement(P.a,{to:"/404"})))))}}]),a}(c.Component),ba=Object(D.a)(va),ya=(t(535),Object(y.d)(Object(y.c)({orders:j,users:x}),Object(y.a)(S.a,C.a))),Sa=function(e){function a(){return Object(p.a)(this,a),Object(g.a)(this,Object(E.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return m.a.createElement(b.a,{store:ya},m.a.createElement(v.a,{basename:"/dmx-logistics-front-end"},m.a.createElement("div",null,m.a.createElement(ba,null))))}}]),a}(c.Component),wa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ca(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}u.a.render(m.a.createElement(Sa,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dmx-logistics-front-end",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("/dmx-logistics-front-end","/service-worker.js");wa?(function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ca(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ca(a,e)})}}()}},[[318,1,2]]]);
//# sourceMappingURL=main.c524984c.chunk.js.map